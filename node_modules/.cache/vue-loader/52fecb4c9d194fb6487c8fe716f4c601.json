{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/manage/account/salesman.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/manage/account/salesman.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import InputForm from '@components/FormInput/index'\nimport InputForm from '@/components/FormInput/index'\nimport wxlogin from 'vue-wxlogin';\n\nimport {  del, getList, PostDataPByAdd } from '@/api/salesman'\nimport waves from '@/directive/waves'\nimport { getArrByKey, pickerOptions } from '@/utils'\nexport default {\n  name: 'audit',\n  data() {\n    return {\n      wx:{\n        appid:'wx430216ed10988964',\n        scope:'snsapi_userinfo',\n        redirect_uri:'http://aystest.10huisp.com/api/shop//user/callback',\n        state:'state',\n        theme:'black',\n        href:'http://aystest.10huisp.com'\n      },\n      form: {},\n      input: '',\n      tableKey: 0,\n      rejectedFrom: {\n        shop_id: undefined,\n        desc: undefined\n      },\n      postStatusText: {\n        create: '业务员新增',\n        edit: '业务员修改'\n      },\n      StatusText: 'create',\n      postFrom: {},\n      listLoading: true,\n      total: 0,\n      checkList: [],\n      dialogVisible: false,\n      innerVisible: false,\n\n      listQuery: {\n        page: 1,\n        limit: 10,\n        status: '1',\n        title: ''\n\n      },\n      classlist:[],\n      list: []\n\n    }\n  },\n  components: {\n    InputForm,\n    waves,\n    wxlogin\n  },\n  created() {\n    this.fetchList()\n\n  },\n  methods: {\n    fetchList() {\n      this.listLoading = true\n      getList(this.listQuery).then(response => {\n        this.list = response.data.data\n        this.total = response.data.total\n        this.listLoading = false\n      })\n    },\n    handleFilter() {\n      this.listQuery.page = 1\n      this.fetchList()\n    },\n    handleFilterClear() {\n      this.listQuery = {\n        page: 1,\n        psize: 10,\n        status: '1',\n        title: ''\n      }\n      this.fetchList()\n    },\n    //关闭\n    handleClose() {\n      this.dialogVisible=!this.dialogVisible\n    },\n\n    handleSizeChange(val) {\n      this.listQuery.psize = val\n      this.fetchList()\n    },\n    handleCurrentChange(val) {\n      this.listQuery.page = val\n      this.fetchList()\n    },\n\n    handleCreate() {\n      this.postFrom={\n        title:'',\n        class_id:'',\n        quality_time:'',\n        one:'',\n        tow:''\n      }\n      this.dialogVisible = !this.dialogVisible\n      this.StatusText = 'create'\n    },\n    createData() {\n      PostDataPByAdd(this.postFrom).then(res => {\n        this.dialogVisible = !this.dialogVisible\n        this.fetchList()\n\n      })\n    },\n    handleUpdate(row) {\n      console.log(row)\n      this.StatusText = 'edit'\n      this.dialogVisible = !this.dialogVisible\n      this.postFrom=row\n\n    },\n    updateData() {\n      PostDataPByAdd(this.postFrom).then(res => {\n        this.dialogVisible = !this.dialogVisible\n\n      })\n\n    },\n    handleDelete(row) {\n      const _this = this\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const index= _this.list.indexOf(row)\n        del(row.id).then(response => {\n          if (response.status === 1) {\n            _this.list.splice(index, 1)\n            _this.total = _this.total - 1\n            _this.$notify.success(response.msg)\n          } else {\n            _this.$notify.error(response.msg)\n          }\n        }).catch((error) => {\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    }\n\n  }\n}\n",null]}