{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/user/info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/user/info.vue","mtime":1587637396694},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport waves from '@/directive/waves'\nimport { getArrByKey, pickerOptions } from '@/utils'\nimport { mapGetters } from 'vuex'\n\nimport { CarBrand } from '@/api/tools'\nimport { GetecshopByList } from '@/api/ecshop'\nimport { GetDataByShopAll } from '@/api/shop'\n\nimport { GetProductByTree } from '@/api/product'\n\nimport { GetSaleByAll } from '@/api/salesman'\nimport { regionDataPlus } from 'element-china-area-data'\nimport { userInfo, GetDataByInstall, PostDataByBlick, GetUserByMoney ,PostDataByAddMoney} from '@/api/wechatuser'\n\nimport sendOrder from './components/sendOrder'\nimport OrderInfo from './components/OrderInfo'\n\nexport default {\n  directives: {\n    waves\n  },\n  components: {\n    sendOrder,\n    OrderInfo\n  },\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        0: '禁用',\n        1: '正常'\n      }\n      return statusMap[status]\n    }\n  },\n  data() {\n    return {\n      ReturnData:{\n        price:0,\n        user_id:0,\n        price_type:1,\n        title:'',\n        cost_title:'',\n      },\n      ReturndialogVisible:false,\n      isIndeterminate: true,\n      checkedCities: [], // 已选择\n      checkAll: false,\n      dialogAudit: false,\n      loading: true,\n      sumorder: 0,\n      productTree: [], // 产品树\n      reTitle: '',\n      moneylist:[],\n      dialogVisible: false, // 打开修改用户信息\n      infodialogVisible: false, //打开详情\n      reOption: [],\n\n      optionsblick:[],\n      postFrom: {},\n      permissions: [], // 权限组\n      RedialogVisible: false,\n      ReturndialogVisible: false,\n      ReturnData: {\n        type: 1,\n        price: undefined,\n        courier: undefined,\n        courier_order_no: undefined,\n        name: undefined\n      },\n      innerVisible: false,\n      dialogVisible: false,\n      checked: true,\n      tableKey: 0,\n      order_id: undefined,\n\n      carl: [],\n      list: null,\n      total: 0,\n      cityoptions: regionDataPlus, // 地址\n      selectedRows: null,\n      listLoading: true,\n      showSearch: false,\n      order_id: undefined,\n      options: [],\n      shop: [],\n      listQuery: {\n        page: 1,\n        limit: 10,\n        sstatus: 1\n      },\n      allsum: 0,\n      buttonDisabled: true,\n      deleting: false,\n      currentIndex: -1,\n      regionHiera: [],\n      Stitle: '',\n      checklist: [],\n      userInfo: {}, //用户信息\n      usercar: [], //用户车辆\n      user_id:0,\n    }\n  },\n  computed: {\n    ...mapGetters(['userinfo', , 'group'])\n  },\n  watch: {},\n  created() {\n    let user_id = this.$route.params.id\n    this.user_id=user_id\n    userInfo(user_id).then(res => {\n      this.userInfo = res.data\n      this.usercar = res.data.usercar\n        this.listLoading = false\n      this.listQuery.openid = this.userInfo.openid\n\n    })\n\n    this.permissions = this.group.btn.split(',')\n\n\n    this.getlist()\n\n  },\n\n  methods: {\n    handeReturn(){\n      this.ReturnData.user_id=this.user_id\n      PostDataByAddMoney(this.ReturnData).then(res=>{\n        this.ReturndialogVisible=false;\n        this.ReturnData={}\n        this.getlist()\n\n        userInfo(this.user_id).then(res => {\n          this.userInfo = res.data\n          this.usercar = res.data.usercar\n          this.listQuery.openid = this.userInfo.openid\n        this.$message.success('修改成功');\n        })\n      })\n    },\n    headMoney(){\n      this.ReturndialogVisible=true\n    },\n    getlist() {\n      this.listQuery.user_id=this.user_id\n      GetUserByMoney(this.listQuery).then(res => {\n        this.moneylist=res.data.data\n        this.total=res.data.total\n      })\n    },\n    handelblack() {\n      var str = '拉黑成功'\n      var temp = {\n        id: this.userInfo.id,\n        is_black: 1\n      }\n\n      if (this.userInfo.is_black === 1) {\n        temp.is_black = 2\n        str = '拉白成功'\n        this.userInfo.is_black = 2\n      } else {\n        this.userInfo.is_black = 1\n      }\n      PostDataByBlick(temp).then(res => {\n        this.$message.success(str)\n      })\n    },\n    headAmend() {\n\n      this.dialogVisible = true\n    },\n\n    rolesbtn(val) {\n      var index = this.permissions.indexOf(val)\n      if (index > -1) {\n        return true\n      } else {\n        return false\n      }\n    },\n\n    handelInfoDialog() {\n      this.infodialogVisible = !this.infodialogVisible\n    },\n\n    handleFilter() {\n      this.listQuery.page = 1\n    },\n    handleFilterClear() {\n    },\n    handleSizeChange(val) {\n      this.listQuery.limie = val\n      console.log('操作了')\n      this.getlist()\n    },\n\n    handleStatusChange(val) {\n      this.listQuery.page = 1\n      this.listQuery.sstatus = val\n      this.getlist()\n    },\n    handleCurrentChange(val) {\n      this.listQuery.page = val\n      this.getlist()\n\n    },\n    handleModifyStatus(index, id, status) {\n      this.list[index]['status'] = 1 - status\n      change(id, 'status', 1 - status).then(response => {\n      })\n    },\n    handleSelectionChange(val) {\n      if (val.length > 0) {\n        this.buttonDisabled = false\n      } else {\n        this.buttonDisabled = true\n      }\n      this.selectedRows = val\n    },\n\n    handleClose() {\n      this.dialogVisible = !this.dialogVisible\n    }\n  }\n}\n",null]}