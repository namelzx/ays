{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/shop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/shop.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  GetDataByShopDemanList,\n  PostDataByShopDemanUpdate\n} from \"@/api/marketing\";\nimport { parseTime } from \"@/utils\";\n\nimport openWindow from '@/utils/openWindow'\n\nexport default {\n  name: \"shop\",\n  data() {\n    return {\n      listQuery: {\n        content: null,\n        page: 1,\n        limit: 10,\n        sstatus: \"all\"\n      },\n      total: 0,\n      total1: 0,\n      total2: 0,\n      total3: 0,\n      listLoading: true,\n      tableData: [],\n      dialogVisible: false,\n      details: {},\n      id: undefined,\n      detitle: \"\"\n    };\n  },\n  filters: {\n    StrText(str) {\n      if (str === 2) {\n        return \"已处理\";\n      } else {\n        return \"待处理\";\n      }\n    }\n  },\n  created() {\n    this.fetchList();\n  },\n  methods: {\n\n    handleImg(img) {\n      openWindow(img, '图片预览', '500', '400')\n    },\n    fetchList() {\n      this.listLoading = true;\n      GetDataByShopDemanList(this.listQuery).then(res => {\n        this.listLoading = false;\n        this.tableData = res.data.data.data;\n        this.total = res.data.data.total;\n        this.total1 = res.data.total1;\n        this.total2 = res.data.total2;\n        this.total3 = res.data.total3;\n\n        console.log(res, \"0909\");\n      });\n    },\n    handleFilter() {\n      this.listQuery.page = 1;\n      this.fetchList();\n    },\n    handleSizeChange(val) {\n      this.listQuery.limit = val;\n      this.fetchList();\n    },\n    handleCurrentChange(val) {\n      this.listQuery.page = val;\n      this.fetchList();\n    },\n    handleStatusChange(val) {\n      this.listQuery.page = 1;\n      this.listQuery.sstatus = val;\n      this.fetchList();\n    },\n    headSearch() {\n      this.listQuery.page = 1;\n      this.fetchList();\n    },\n    handleClose() {\n      this.dialogVisible = false;\n    },\n    handleEdit(index, row) {\n      this.dialogVisible = true;\n      this.id = row.id;\n      this.details = row;\n      if (row.status === 1) {\n        this.detitle = row.id + \"-\" + \"详情\" + \"-\" + \"待处理\";\n      } else {\n        this.detitle = row.id + \"-\" + \"详情\" + \"-\" + \"已处理\";\n      }\n    },\n\n    //确认处理\n    headDownload() {\n      let id = this.id;\n      PostDataByShopDemanUpdate(id).then(res => {\n        console.log(res);\n        if (res.code === 20000) {\n          this.dialogVisible = false;\n          this.fetchList();\n        }\n      });\n    }\n  }\n};\n",null]}