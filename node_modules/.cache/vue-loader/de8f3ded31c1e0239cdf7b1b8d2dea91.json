{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfo.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  import DetailsInfo from './info/details'\n\n  import InstallInfo from './info/install'\n\n  import Timeline from './info/timeline'\n  import returnVisit from './info/returnVisit'\n\n  import { GetIdByOrderLog, GetTypeBySale, PostDataBySale ,GetIdByinstaOrderLog} from '@/api/payorder'\n\n  import Upload from '@/components/Upload/uploadList'\n\n  import config from '@/config'\n  import { mapGetters } from 'vuex'\n\n  export default {\n    name: 'OrderInfo',\n\n    computed: {\n      ...mapGetters([\n        'userinfo',\n        'brand',\n        'group'\n      ])\n\n    },\n    components: {\n      DetailsInfo,\n      Timeline,\n      returnVisit,\n      Upload,\n      InstallInfo\n    },\n    props: {\n      OrderInfo: {\n        type: Object,\n        default: function() {\n          return {}\n        }\n      },\n      infodialogVisible: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data() {\n      return {\n        permissions: [],//权限组\n\n        reTitle: '',\n        sale:[],\n\n        returninnerVisible: false,\n        content: '',\n        img: [],\n        activeName: 'payinstall',\n        loglist: [],\n        config: {\n          fileName: 'file',\n          limit: 5,\n          multiple: false,\n          accept: 'image/*',\n          action: config.uploadUrl.img,\n          drag: false\n        },\n        imglist:[],\n        videolist:[],\n      }\n    },\ncreated(){\n  this.permissions = this.group.btn.split(',')\n  this.imglist=this.postFrom.imglist.split(','),\n    this.videolist=this.postFrom.videolist.split(',')\n},\n    methods: {\n      handelRuimg(){\n\n      },\n\n      rolesbtn(val) {\n        var index = this.permissions.indexOf(val)\n        if (index > -1) {\n          return true\n        } else {\n          return false\n        }\n      },\n      //添加售后数据\n      handelContent() {\n        var data = {\n          content: this.content,\n          img: this.img.join('|'),\n          type: this.activeName,\n          order_id: this.OrderInfo.id\n        }\n        PostDataBySale(data).then(res => {\n          console.log(res)\n          this.getsale();\n          this.returninnerVisible=!this.returninnerVisible\n        })\n\n      },\n\n      getsale() {\n        var temp = {\n          order_id: this.OrderInfo.id,\n          type: this.activeName\n        }\n        GetTypeBySale(temp).then(res => {\n          // this.sale=res.data\n          var arr=[]\n          for (let i=0;i<res.data.length;i++){\n            arr[i]=res.data[i]\n            arr[i].img=res.data[i].img.split('|')\n          }\n          this.sale=arr\n        })\n\n      },\n      //组件图片上传\n      handelRuimg(row) {\n        this.img = row\n        console.log(row)\n      },\n      handleClose() {\n        this.$emit('handelInfoDialog', !this.infodialogVisible)\n      },\n      handleClick(tab, event) {\n        //\n        if (tab.paneName === 'paylog') {\n          this.loglist=[]\n          GetIdByOrderLog(this.OrderInfo.id).then(res => {\n            this.loglist = res.data\n          })\n        }\n\n        if (tab.paneName === 'instalog') {\n          this.loglist=[]\n          GetIdByinstaOrderLog(this.OrderInfo.order_id).then(res => {\n            this.loglist = res.data\n          })\n        }\n\n\n\n        if (tab.paneName === 'return') {\n          this.getsale()\n        }\n        console.log('售后服务')\n\n        if (tab.paneName === 'sales') {\n          this.getsale()\n        }\n      }\n    }\n  }\n",null]}