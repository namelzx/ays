{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/coupon.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/coupon.vue","mtime":1596071020805},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import Coupon from './components/coupon'\n    import oneImage from '@/components/Upload/oneImage'\n\n    import {\n        GetDataByList\n    } from '@/api/shopgroup'\n    import shop from './components/shop'\n    import autocoupon from './components/autocoupon'\nimport hexiao from './components/hexiao'\n    import senlog from './components/senlog'\n    import {PostShopCouponByData, GetCouponByAll} from \"@/api/platformcoupon\";\n\n    import {PostAutoDataByAdd} from \"@/api/autocoupon\";\n    import {\n        GetcouponByList, PostDataByAdd,GetIdByDelete\n    } from '@/api/platformcoupon'\n\n    import {GetCancelCodeByData, PostDataByCancel} from \"@/api/Cancelcoupon\";\n\n\n    import {mapGetters} from \"vuex\";\n    import Autocoupon from \"@/views/marketing/components/autocoupon\";\n\n    export default {\n        name: 'coupon',\n        computed: {\n            ...mapGetters([\"userinfo\", \"brand\", \"group\"])\n        },\n        data() {\n            return {\n                activeName: 'coupon',\n                showCoupon: false,\n                showCanclCoupon: false,\n                postFrom: {},\n                cancelFrom: {},\n                group: [],\n                coupon: [],\n                is_post: false,\n                hexiaopost: undefined,\n            }\n        },\n        components: {\n            Autocoupon,\n            oneImage,\n            Coupon,\n            shop,\n            hexiao,\n            senlog\n        },\n        created() {\n            let temp = {}\n            GetDataByList(temp).then(res => {\n                this.group = res.data\n            })\n            let query = {}\n            GetCouponByAll(query).then(res => {\n                this.coupon = res.data\n\n            })\n        },\n        methods: {\n            headCancelNewconfirmsearch() {\n                GetCancelCodeByData(this.cancelFrom).then(res => {\n                    console.log(res)\n                    if (res.code === 20000) {\n                        this.hexiaopost = res.data\n                        this.is_post=false\n                    } else {\n                        this.is_post=true\n                        this.hexiaopost = undefined\n                    }\n                })\n            },\n            headCancelNewconfirm() {\n                this.hexiaopost.cancenl_id = this.userinfo.id\n                if (this.is_post===true) {\n                    return\n                }\n                this.is_post=true\n                PostDataByCancel(this.hexiaopost).then(res => {\n                    if(res.code===20000){\n                        this.$message.success(res.msg)\n                    }\n                    this.is_post=false\n                })\n            },\n            headColsecan() {\n                this.showCanclCoupon = false\n\n            },\n            handcanopen() {\n                this.showCanclCoupon = true\n            },\n\n            handellicense(e) {\n                this.postFrom.images_url = e.file.response.data\n            },\n\n            // 确定新建\n            headNewconfirm() {\n                this.postFrom.sender_id=this.userinfo.id\n                this.postFrom.type=1\n                PostDataByAdd(this.postFrom).then(res => {\n                    console.log(res)\n                    this.postFrom={}\n                    this.$message.success('新建完成')\n                    this.headColse();\n                })\n            },\n            headColse() {\n                this.showCoupon = false\n            },\n            headOpen() {\n                this.showCoupon = true\n            },\n            handleClick(tab, event) {\n                console.log(tab, event)\n            },\n            headNewcancel() {\n                this.showCoupon = false\n            }\n        }\n    }\n",null]}