{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/audit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/audit.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { CarBrand } from \"@/api/tools\";\nimport ShList from \"@/components/shop/index\";\n\nimport { GetSaleByAll } from \"@/api/salesman\";\nimport { regionDataPlus } from \"element-china-area-data\";\nimport { mapGetters } from \"vuex\";\n\nimport { GetDataByList, GetDataByShopAll } from \"@/api/shop\";\n\nimport {\n  change,\n  changeAll,\n  del,\n  delAll,\n  GetIdBydetails,\n  PostDataByAdd,\n  AddPayOrderLog\n} from \"@/api/payorder\";\nimport { GetecshopByList } from \"@/api/ecshop\";\nimport { getArrByKey, pickerOptions } from \"@/utils\";\nimport { GetProductByTree } from \"@/api/product\";\n\nimport UploadList from \"@/components/Upload/uploadList\";\nimport openWindow from '@/utils/openWindow'\n\n\nconst defaultForm = {\n  logcontent: \"\",\n  openid: \"\",\n  lazada_id: \"\",\n  lazada_list: \"\",\n  lazada_index: \"\",\n  buy_order_no: \"12123\",\n  buy_account: \"199\",\n  buy_product_id: \"\",\n  no_price: \"199\",\n  contact: \"\",\n  tel: \"\",\n  city_code: undefined,\n  city_desc: \"\",\n  number_plate: \"A871237\",\n  car_model: undefined,\n  car_index: \"\",\n  car_model_id: \"\"\n};\n\nexport default {\n  name: \"SendOrder\",\n  data() {\n    return {\n      shopQuery: {\n        cityCode: undefined,\n        shopname: undefined,\n        page: 1,\n        limit: 10,\n        tel: undefined\n      },\n      imglist: [],\n      videolist: [],\n      is_disabled: false,\n      loading: false,\n      innerVisible: false,\n      // dialogVisible: false,\n      checked: true,\n      tableKey: 0,\n      CarModellist: [], // 车型数据\n      lazada: [], // 所有平台\n      salesman: [], // 所有业务员\n      retype: [\n        {\n          label: \"售后退款\",\n          value: \"售后退款\"\n        },\n        {\n          label: \"返现奖励\",\n          value: \"返现奖励\"\n        },\n        {\n          label: \"其他\",\n          value: \"其他\"\n        }\n      ], //\n\n      carl: [],\n      list: null,\n      total: null,\n\n      // postFrom: Object.assign({}, defaultForm),\n      cityoptions: regionDataPlus, // 地址\n      selectedRows: null,\n      listLoading: true,\n      showSearch: false,\n      options: [],\n      shop: [],\n      listQuery: {\n        page: 1,\n        limit: 10,\n        status: \"-1\",\n        title: \"\"\n      },\n      postFrom: {},\n      buttonDisabled: true,\n      deleting: false,\n      pickerOptions: pickerOptions,\n      currentIndex: -1,\n      productTree: [],\n      regionHiera: [],\n      shop: [],\n      imglist: [],\n      videolist: [],\n      innerVisible: false\n    };\n  },\n  computed: {\n    ...mapGetters([\"userinfo\", \"brand\"])\n  },\n  components: {\n    UploadList,\n    ShList\n  },\n  props: {\n    postFrom: {\n      type: Object,\n      default: function() {\n        return Object.assign({}, defaultForm);\n      }\n    },\n    Stitle: {\n      type: String,\n      default: \"\"\n    },\n\n    dialogVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created() {\n    this.shopList();\n    this.imglist = this.postFrom.imglist.split(\",\");\n    console.log(this.postFrom.videolist);\n    if (this.postFrom.videolist) {\n      this.videolist = this.postFrom.videolist.split(\",\");\n    }\n    GetProductByTree().then(res => {\n      this.productTree = res.data;\n    });\n    GetecshopByList().then(res => {\n      this.lazada = res.data;\n    });\n    GetDataByShopAll().then(res => {\n      this.shop = res.data;\n    });\n\n    GetSaleByAll().then(res => {\n      this.salesman = res.data;\n    });\n  },\n  mounted() {\n    console.log(this.userinfo);\n  },\n  methods: {\n    handleImg(img) {\n      openWindow(img, '图片预览', '500', '400')\n    },\n    shopList() {\n      GetDataByList(this.shopQuery).then(response => {\n        this.shoplist = response.data.data;\n        this.shoptotal = response.data.total;\n      });\n    },\n\n    handleClose() {\n      this.$emit(\"handleClose\");\n    },\n    updateRow(type) {\n      if (this.postFrom.status === \"待初审\") {\n        this.postFrom.status = 2;\n        this.postFrom.logcontent =\n          \"财审1\" + \" \" + this.userinfo.realName + \"审核通过,\";\n      }\n      if (this.postFrom.status === \"待财审1\") {\n        this.postFrom.status = 3;\n        this.postFrom.logcontent =\n          \"财审2\" + \" \" + this.userinfo.realName + \"审核通过,\";\n      }\n      if (this.postFrom.status === \"待财审2\") {\n        this.postFrom.status = 4;\n        this.postFrom.logcontent =\n          \"待结算\" + \" \" + this.userinfo.realName + \"审核通过,\";\n      }\n      if (this.postFrom.status === \"待结算\") {\n        this.postFrom.status = 5;\n        this.postFrom.logcontent =\n          \"已结算\" + \" \" + this.userinfo.realName + \"结算,\";\n      }\n      AddPayOrderLog(this.postFrom).then(res => {\n        this.$emit(\"handleClose\");\n        this.$message.success(\"操作成功\");\n      });\n    }\n  }\n};\n",null]}