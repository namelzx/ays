{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/shop/stock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/shop/stock.vue","mtime":1591032177085},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import InputForm from '@components/FormInput/index'\nimport InputForm from '@/components/FormInput/index'\nimport waves from '@/directive/waves'\nimport { getArrByKey, pickerOptions } from '@/utils'\nimport { PostDataByAdd,GetDataByList ,GetIdByDetele} from '@/api/stock'\n\n\nimport openWindow from '@/utils/openWindow'\nimport UploadExcelComponent from '@/components/UploadExcel/index.vue'\n\nexport default {\n  name: 'audit',\n  data() {\n    return {\n      Associated: {},\n      news_edit: false,//未启用关联\n      cityoptions: [],//地址\n      ShopVisible: false,\n      form: {},\n      salesman: [],\n      input: '',\n      tableKey: 0,\n      rejectedFrom: {\n        shop_id: undefined,\n        desc: undefined\n      },\n      postFrom: {},\n      shoplist: [],\n      listLoading: true,\n      total: 0,\n      checkList: [],\n      dialogVisible: false,\n      innerVisible: false,\n      listQuery: {\n        page: 1,\n        limit: 10,\n        status: '1',\n        title: ''\n\n      },\n      BlockVisible: false,\n      shoptotal: 0,\n      backvalue: [],\n      mcvalue: [],\n      backtemp: {\n        blacklist: undefined,\n        blackday: undefined,\n        id: undefined\n      },\n      day: 0,\n      shop: {\n        id: '',\n        type: 1,\n        type_star: 1,\n        ec_recom: 1,\n        mt_recom: 1,\n        book: 1,\n        update_star: 1,\n        score: 1\n      },\n      list: [],\n      adminll:[],\n      shopQuery: {\n        cityCode: undefined,\n        shopname: undefined,\n        page: 1,\n        limit: 10,\n        tel: undefined\n      }\n\n    }\n  },\n  components: {\n    InputForm,\n    waves,\n    UploadExcelComponent\n  },\n  created() {\n\n    this.fetchList()\n\n  },\n  methods: {\n    handeldow(){\n      let url='https://pdpt.oss-cn-beijing.aliyuncs.com/%E8%BF%9B%E8%B4%A7%E5%AF%BC%E5%85%A5%E6%A8%A1%E6%9D%BF.xlsx'\n    window.location.href=url\n    },\n    handelDig(){\n      this.dialogVisible=true;\n    },\n\n    beforeUpload(file) {\n      const isLt1M = file.size / 1024 / 1024 < 1\n\n      if (isLt1M) {\n        return true\n      }\n\n      this.$message({\n        message: 'Please do not upload files larger than 1m in size.',\n        type: 'warning'\n      })\n      return false\n    },\n    handleSuccess({ results, header }) {\n      console.log(results)\n\n      PostDataByAdd(results).then(res => {\n        this.$message.success('导入成功');\n        this.fetchList()\n      })\n      // this.tableHeader = header\n    },\n\n    handleImg(img) {\n      openWindow(img, '图片预览', '500', '400')\n    },\n\n    handelDelete(row){\n      let index=this.list.indexOf(row);\n      this.list.splice(index,1)\n      GetIdByDetele(row.id).then(res=>{\n        this.$message.success('删除成功');\n\n      })\n    },\n    elCascaderOnlick() {\n      let that = this\n      setTimeout(function() {\n        document.querySelectorAll('.el-cascader-node__label').forEach(el => {\n          el.onclick = function() {\n            this.previousElementSibling.click()\n            that.$refs.elcascader.dropDownVisible = false\n          }\n        })\n        document\n          .querySelectorAll('.el-cascader-panel .el-radio')\n          .forEach(el => {\n            el.onclick = function() {\n              that.$refs.elcascader.dropDownVisible = false\n            }\n          })\n      }, 100)\n    },\n\n    elCascaderOnlick() {\n      let that = this\n      setTimeout(function() {\n        document.querySelectorAll('.el-cascader-node__label').forEach(el => {\n          el.onclick = function() {\n            this.previousElementSibling.click()\n            that.$refs.elcascader.dropDownVisible = false\n          }\n        })\n        document\n          .querySelectorAll('.el-cascader-panel .el-radio')\n          .forEach(el => {\n            el.onclick = function() {\n              that.$refs.elcascader.dropDownVisible = false\n            }\n          })\n      }, 100)\n    },\n    handelColse() {\n      this.dialogVisible = false\n    },\n\n    fetchList() {\n      this.listLoading = true\n      GetDataByList(this.listQuery).then(response => {\n        this.list = response.data.data\n        this.total = response.data.total\n        this.listLoading = false\n      })\n    },\n    handleFilter() {\n      this.listQuery.page = 1\n      this.fetchList()\n    },\n    handleFilterClear() {\n      this.listQuery = {\n        page: 1,\n        limit: 10,\n        status: '1',\n        title: ''\n      }\n      this.fetchList()\n    },\n    //关闭\n    handleClose() {\n  this.dialogVisible=false\n    },\n\n\n\n    handleSizeChange(val) {\n      this.listQuery.psize = val\n      this.fetchList()\n    },\n    handleCurrentChange(val) {\n      this.listQuery.page = val\n      this.fetchList()\n    },\n\n\n\n  }\n}\n",null]}