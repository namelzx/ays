{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/shop/components/mendianinfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/shop/components/mendianinfo.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Citylist } from \"@/api/city\";\n\n// import { regionDataPlus } from 'element-china-area-data'\nimport { GetSaleByAll } from \"@/api/salesman\";\nimport { PostDataByUpdate } from \"@/api/shop\";\n\nimport oneImage from \"@/components/Upload/oneImage\";\nimport uploadList from \"@/components/Upload/uploadList\";\n\nconst defaultForm = {};\nexport default {\n  name: \"sendOrder\",\n  data() {\n    return {\n      env: [],\n      cityoptions: [],\n      salesman: [],\n      op: [\n        {\n          label: \"普通\",\n          value: 1\n        },\n        {\n          label: \"阿帕认证\",\n          value: 2\n        },\n        {\n          label: \"阿帕三星\",\n          value: 3\n        },\n        {\n          label: \"阿帕四星\",\n          value: 4\n        },\n        {\n          label: \"阿帕五星\",\n          value: 5\n        }\n      ]\n    };\n  },\n  components: { oneImage, uploadList },\n  computed: {},\n  props: {\n    postFrom: {\n      type: Object,\n      default: function() {\n        return Object.assign({}, defaultForm);\n      }\n    },\n    dialogVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created() {\n    let data = this.postFrom.cityCode;\n    Citylist().then(res => {\n      this.cityoptions = res.data;\n      for (let i = 0; i < data.length; i++) {\n        data[i] = parseInt(data[i]);\n      }\n      this.postFrom.cityCode = data;\n    });\n    if (!this.postFrom.wechat.openid) {\n      this.$message.error(\"请选绑定openid\");\n    }\n    GetSaleByAll().then(res => {\n      this.salesman = res.data;\n    });\n  },\n  methods: {\n    handelSave() {\n      this.postFrom.cityCode = this.postFrom.cityCode.join(\",\");\n\n      var arr = [];\n      for (let i = 0; i < this.env.length; i++) {\n        arr.push({ url: this.env[i].url, shop_id: this.env[i].shop_id });\n      }\n      var temp = {\n        post: this.postFrom,\n        env: arr\n      };\n      PostDataByUpdate(temp).then(res => {\n        this.$emit(\"handleClose\");\n\n        this.$message.success(\"操作成功\");\n      });\n    },\n    handleEnv(e) {\n      this.env.push({ url: e.file.data, shop_id: this.postFrom.id });\n    },\n\n    HandelRemove(e) {\n      this.env = e;\n    },\n    handellicense(e) {\n      this.postFrom.license = e.file.response.data;\n    },\n    handleClose() {\n      this.$emit(\"handleClose\");\n    }\n  },\n  mounted() {\n    if (this.dialogVisible) {\n      let arr = [];\n      for (let i = 0; i < this.postFrom.env.length; i++) {\n        arr.push({ url: this.postFrom.env[i] });\n      }\n      this.env = arr;\n    }\n    if (this.postFrom.shop_type === \"普通\") {\n      this.postFrom.shop_type = 1;\n    }\n    this.env = this.postFrom.env;\n    if (this.postFrom.shop_type === \"阿帕认证\") {\n      this.postFrom.shop_type = 2;\n    }\n    if (this.postFrom.shop_type === \"阿帕3星\") {\n      this.postFrom.shop_type = 3;\n    }\n    if (this.postFrom.shop_type === \"阿帕4星\") {\n      this.postFrom.shop_type = 4;\n    }\n    if (this.postFrom.shop_type === \"阿帕5星\") {\n      this.postFrom.shop_type = 5;\n    }\n  }\n};\n",null]}