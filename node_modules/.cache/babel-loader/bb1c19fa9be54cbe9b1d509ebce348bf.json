{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/coupon.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/coupon.vue","mtime":1596071020805},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/objectSpread2\"));\n\nvar _coupon = _interopRequireDefault(require(\"./components/coupon\"));\n\nvar _oneImage = _interopRequireDefault(require(\"@/components/Upload/oneImage\"));\n\nvar _shopgroup = require(\"@/api/shopgroup\");\n\nvar _shop = _interopRequireDefault(require(\"./components/shop\"));\n\nvar _autocoupon = _interopRequireDefault(require(\"./components/autocoupon\"));\n\nvar _hexiao = _interopRequireDefault(require(\"./components/hexiao\"));\n\nvar _senlog = _interopRequireDefault(require(\"./components/senlog\"));\n\nvar _platformcoupon = require(\"@/api/platformcoupon\");\n\nvar _autocoupon2 = require(\"@/api/autocoupon\");\n\nvar _Cancelcoupon = require(\"@/api/Cancelcoupon\");\n\nvar _vuex = require(\"vuex\");\n\nvar _autocoupon3 = _interopRequireDefault(require(\"@/views/marketing/components/autocoupon\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'coupon',\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)([\"userinfo\", \"brand\", \"group\"])),\n  data: function data() {\n    return {\n      activeName: 'coupon',\n      showCoupon: false,\n      showCanclCoupon: false,\n      postFrom: {},\n      cancelFrom: {},\n      group: [],\n      coupon: [],\n      is_post: false,\n      hexiaopost: undefined\n    };\n  },\n  components: {\n    Autocoupon: _autocoupon3.default,\n    oneImage: _oneImage.default,\n    Coupon: _coupon.default,\n    shop: _shop.default,\n    hexiao: _hexiao.default,\n    senlog: _senlog.default\n  },\n  created: function created() {\n    var _this = this;\n\n    var temp = {};\n    (0, _shopgroup.GetDataByList)(temp).then(function (res) {\n      _this.group = res.data;\n    });\n    var query = {};\n    (0, _platformcoupon.GetCouponByAll)(query).then(function (res) {\n      _this.coupon = res.data;\n    });\n  },\n  methods: {\n    headCancelNewconfirmsearch: function headCancelNewconfirmsearch() {\n      var _this2 = this;\n\n      (0, _Cancelcoupon.GetCancelCodeByData)(this.cancelFrom).then(function (res) {\n        console.log(res);\n\n        if (res.code === 20000) {\n          _this2.hexiaopost = res.data;\n          _this2.is_post = false;\n        } else {\n          _this2.is_post = true;\n          _this2.hexiaopost = undefined;\n        }\n      });\n    },\n    headCancelNewconfirm: function headCancelNewconfirm() {\n      var _this3 = this;\n\n      this.hexiaopost.cancenl_id = this.userinfo.id;\n\n      if (this.is_post === true) {\n        return;\n      }\n\n      this.is_post = true;\n      (0, _Cancelcoupon.PostDataByCancel)(this.hexiaopost).then(function (res) {\n        if (res.code === 20000) {\n          _this3.$message.success(res.msg);\n        }\n\n        _this3.is_post = false;\n      });\n    },\n    headColsecan: function headColsecan() {\n      this.showCanclCoupon = false;\n    },\n    handcanopen: function handcanopen() {\n      this.showCanclCoupon = true;\n    },\n    handellicense: function handellicense(e) {\n      this.postFrom.images_url = e.file.response.data;\n    },\n    // 确定新建\n    headNewconfirm: function headNewconfirm() {\n      var _this4 = this;\n\n      this.postFrom.sender_id = this.userinfo.id;\n      this.postFrom.type = 1;\n      (0, _platformcoupon.PostDataByAdd)(this.postFrom).then(function (res) {\n        console.log(res);\n        _this4.postFrom = {};\n\n        _this4.$message.success('新建完成');\n\n        _this4.headColse();\n      });\n    },\n    headColse: function headColse() {\n      this.showCoupon = false;\n    },\n    headOpen: function headOpen() {\n      this.showCoupon = true;\n    },\n    handleClick: function handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    headNewcancel: function headNewcancel() {\n      this.showCoupon = false;\n    }\n  }\n};\nexports.default = _default;",null]}