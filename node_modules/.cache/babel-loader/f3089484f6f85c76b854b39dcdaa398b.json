{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/manage/info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/manage/info.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/typeof\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/objectSpread2\"));\n\nvar _admin = require(\"@/api/admin\");\n\nvar _vuex = require(\"vuex\");\n\nvar _store = _interopRequireDefault(require(\"@/store\"));\n\nvar _config = _interopRequireDefault(require(\"@/config\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import Upload from '@/components/Upload/image'\nvar _default = {\n  name: 'MyInfo',\n  // components: { Upload },\n  data: function data() {\n    return {\n      btnLoading: false,\n      temp: {\n        password: '',\n        realName: _store.default.getters.realName,\n        phone: _store.default.getters.phone,\n        email: _store.default.getters.email,\n        img: [_store.default.getters.avatar]\n      },\n      config: {\n        fileName: 'img',\n        limit: 1,\n        multiple: true,\n        accept: 'image/*',\n        action: _config.default.uploadUrl.img\n      }\n    };\n  },\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)(['name', 'group'])),\n  watch: {\n    temp: {\n      handler: function handler(newVal, oldVal) {},\n      immediate: true,\n      deep: true\n    }\n  },\n  created: function created() {},\n  destroyed: function destroyed() {},\n  methods: {\n    saveData: function saveData() {\n      var _this2 = this;\n\n      this.btnLoading = true;\n      this.$refs['dataForm'].validate(function (valid) {\n        if (valid) {\n          var _this = _this2;\n          var d = _this2.temp;\n\n          if ((0, _typeof2.default)(d.img) === 'object') {\n            d.img = d.img.join(',');\n          }\n\n          (0, _admin.modify)(d).then(function (response) {\n            if (response.status === 1) {\n              _store.default.commit('SET_AVATAR', _this.temp.img);\n\n              _store.default.commit('SET_REALNAME', _this.temp.realName);\n\n              _store.default.commit('SET_PHONE', _this.temp.phone);\n\n              _store.default.commit('SET_EMAIL', _this.temp.email);\n\n              _this.$message.success(response.msg);\n            } else {\n              _this.$message.error(response.msg);\n            }\n\n            _this.btnLoading = false;\n          }).catch(function (error) {\n            _this2.btnLoading = false;\n          });\n        } else {\n          _this2.btnLoading = false;\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",null]}