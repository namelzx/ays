{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/situation/top.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/situation/top.vue","mtime":1590833181356},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { GetHomeByData, GetTop, GetShopByList } from '@/api/home';\nimport Test from \"./top/test\";\nimport { PostRecomBySet } from '@/api/shop';\nimport TableView from \"./table/index\";\nimport { PostBlackByUpdate, PostWhiteByUpdate } from '@/api/shop';\nimport TableTopView from \"./table/toptable\";\nimport Show from \"./top/show\";\nexport default {\n  name: 'Index',\n  data: function data() {\n    return {\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近一周',\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近一个月',\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近三个月',\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n            picker.$emit('pick', [start, end]);\n          }\n        }]\n      },\n      topshow: false,\n      listQuery: {\n        time: []\n      },\n      total: 0,\n      listQ: {\n        time: [],\n        page: 1,\n        limit: 10\n      },\n      ordersum: 0,\n      timesum: 0,\n      provinces: {},\n      product: {},\n      salesman: {},\n      activeName: '-1',\n      shop: [],\n      statistical: {\n        order: 0,\n        Demand: 0\n      },\n      city: {},\n      order: [],\n      backvalue: undefined,\n      whiteVisible: false,\n      BlockVisible: false,\n      backtemp: {},\n      options: [{\n        value: 2,\n        label: '市场',\n        children: [{\n          value: 100000,\n          label: '永久'\n        }, {\n          value: 7,\n          label: '七天'\n        }, {\n          value: 30,\n          label: '一个月'\n        }, {\n          value: 90,\n          label: '三个月'\n        }, {\n          value: 365,\n          label: '1年'\n        }]\n      }, {\n        value: 3,\n        label: '电商',\n        children: [{\n          value: 100000,\n          label: '永久'\n        }, {\n          value: 7,\n          label: '七天'\n        }, {\n          value: 30,\n          label: '一个月'\n        }, {\n          value: 90,\n          label: '三个月'\n        }, {\n          value: 365,\n          label: '1年'\n        }]\n      }]\n    };\n  },\n  components: {\n    Test: Test,\n    TableView: TableView,\n    TableTopView: TableTopView,\n    Show: Show\n  },\n  provinces: [],\n  filters: {\n    book: function book(str) {\n      if (str === 1) {\n        return '宝典';\n      } else {\n        return '';\n      }\n    }\n  },\n  created: function created() {\n    this.getdata();\n    this.handelShop();\n  },\n  methods: {\n    handleDerive: function handleDerive() {\n      this.$refs.ShowAdmin.handleShow();\n    },\n    handelShow: function handelShow() {\n      this.$router.push('/situation/evenshop'); // this.topshow = true\n    },\n    handelShop: function handelShop() {\n      var _this2 = this;\n\n      this.listQ.time = this.listQuery.time;\n      GetShopByList(this.listQ).then(function (res) {\n        _this2.total = res.data.total;\n        _this2.shop = res.data.shop;\n      });\n    },\n    handleTop: function handleTop(data, title) {\n      this.$refs.tableTopview.handleView(data, title);\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQ.limit = val;\n      this.handelShop();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQ.page = val;\n      this.handelShop();\n    },\n    handelSet: function handelSet(row, type) {\n      var _this3 = this;\n\n      console.log(row);\n      var temp = {\n        id: row.id,\n        val: 0\n      };\n\n      if (type === 'mk_rec') {\n        temp.field = 'mk_rec';\n        console.log(row.mk_rec, 3);\n\n        if (row.mk_rec === 2) {\n          temp.val = 1;\n        } else {\n          temp.val = 2;\n        }\n      }\n\n      if (type === 'ec_rec') {\n        temp.field = 'ec_rec';\n        console.log(row.mk_rec, 2);\n\n        if (row.ec_rec === 2) {\n          temp.val = 1;\n        } else {\n          temp.val = 2;\n        }\n      }\n\n      PostRecomBySet(temp).then(function (res) {\n        _this3.getdata();\n      });\n    },\n    handleChange: function handleChange(value) {\n      this.day = value[1];\n      console.log(value[0]);\n\n      if (value[0] === 2) {\n        this.backtemp.blacklist = value[0];\n        this.backtemp.blackday = value[1];\n        this.backtemp.id = this.shop.id;\n        this.backtemp.ecblacklist = undefined;\n        this.backtemp.ecblackday = undefined;\n      }\n\n      if (value[0] === 3) {\n        this.backtemp.ecblacklist = value[0];\n        this.backtemp.ecblackday = value[1];\n        this.backtemp.blacklist = undefined;\n        this.backtemp.blackday = undefined;\n        this.backtemp.id = this.shop.id;\n      }\n    },\n    toShop: function toShop(item) {\n      this.BlockVisible = true;\n      this.shop = item;\n    },\n    handelWhite: function handelWhite(type) {\n      var _this4 = this;\n\n      //市场拉白\n      var tmep = {};\n\n      if (type === 'ma') {\n        var temp = {\n          id: this.shop.id,\n          blacklist: 1,\n          blackday: 0,\n          blackend: 0\n        };\n      }\n\n      if (type === 'ec') {\n        var temp = {\n          id: this.shop.id,\n          ecblacklist: 1,\n          ecblackday: 0,\n          ecblackend: 0\n        };\n      }\n\n      PostWhiteByUpdate(temp).then(function (res) {\n        _this4.$message.success('拉白成功');\n\n        _this4.getdata();\n\n        _this4.whiteVisible = false;\n      });\n    },\n    handleBack: function handleBack() {\n      var _this5 = this;\n\n      var _this = this;\n\n      var day = this.day;\n\n      if (day === 100000) {\n        day = '永久';\n      } else {\n        day = day + '天';\n      }\n\n      this.$confirm('此操作将该门店 ' + day + ' 拉黑, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        PostBlackByUpdate(_this5.backtemp).then(function (res) {\n          console.log(res);\n          _this.BlockVisible = !_this5.BlockVisible;\n\n          _this5.$message.success('拉黑成功');\n\n          _this5.getdata();\n        });\n      }).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    clickToWhite: function clickToWhite(item) {\n      this.shop = item;\n      this.whiteVisible = !this.whiteVisible;\n    },\n    clickToBlock: function clickToBlock() {\n      this.BlockVisible = false;\n    },\n    handleFilter: function handleFilter() {\n      this.getdata();\n      this.handelShop();\n    },\n    handleDownload: function handleDownload() {},\n    handleClick: function handleClick(e) {\n      this.getdata();\n    },\n    getdata: function getdata() {\n      var _this6 = this;\n\n      GetTop(this.listQuery).then(function (res) {\n        _this6.provinces = res.data.provinces;\n        _this6.salesman = res.data.salesman;\n        _this6.product = res.data.product;\n        _this6.city = res.data.city;\n        _this6.ordersum = res.data.ordersum;\n        _this6.timesum = res.data.timesum;\n      });\n    }\n  }\n};",null]}