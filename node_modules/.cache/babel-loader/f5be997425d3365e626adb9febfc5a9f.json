{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/shop/components/mendian.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/shop/components/mendian.vue","mtime":1588382831129},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { GetIDByDetails, PostBlackByUpdate, PostWhiteByUpdate, PostDataByRecommended, GetIdBydelete } from '@/api/shop';\nimport Info from \"./mendianinfo\";\nimport Bind from \"./bind\";\nimport Bussiness from \"./business\";\nimport { GetProjectBy, PostBussByUpdate } from '@/api/shop';\nimport openWindow from '@/utils/openWindow';\nexport default {\n  name: 'MenDian',\n  props: {\n    // shop: {\n    //   type: Object\n    // }\n    id: {\n      type: String,\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      whiteVisible: false,\n      BlockVisible: false,\n      activeName: 'info',\n      dialogEdInfo: false,\n      dialogVisible: false,\n      dialogBind: false,\n      dialogBuss: false,\n      backvalue: '',\n      backtemp: {\n        blacklist: undefined,\n        blackday: undefined,\n        id: undefined\n      },\n      options: [{\n        value: 2,\n        label: '市场',\n        children: [{\n          value: 100000,\n          label: '永久'\n        }, {\n          value: 7,\n          label: '七天'\n        }, {\n          value: 30,\n          label: '一个月'\n        }, {\n          value: 90,\n          label: '三个月'\n        }, {\n          value: 365,\n          label: '1年'\n        }]\n      }, {\n        value: 3,\n        label: '电商',\n        children: [{\n          value: 100000,\n          label: '永久'\n        }, {\n          value: 7,\n          label: '七天'\n        }, {\n          value: 30,\n          label: '一个月'\n        }, {\n          value: 90,\n          label: '三个月'\n        }, {\n          value: 365,\n          label: '1年'\n        }]\n      }],\n      day: 0,\n      shop: {\n        id: '',\n        type: 1,\n        type_star: 1,\n        ec_recom: 1,\n        mt_recom: 1,\n        book: 1,\n        update_star: 1,\n        score: 1\n      },\n      main: [],\n      serve: []\n    };\n  },\n  components: {\n    Info: Info,\n    Bind: Bind,\n    Bussiness: Bussiness\n  },\n  filters: {\n    serv: function serv(arr) {\n      var str = '';\n\n      for (var i = 0; i < arr.length; i++) {\n        str = str + arr[i].title + ',';\n      }\n\n      return str;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.getinfo();\n    GetProjectBy(this.id).then(function (res) {\n      console.log(res);\n      _this2.main = res.data.main;\n      _this2.serve = res.data.serve;\n    });\n  },\n  methods: {\n    handelDelete: function handelDelete() {\n      var _this3 = this;\n\n      this.$confirm('此操作将该门店 永久删除(不可恢复)', '是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        GetIdBydelete(_this3.shop.id).then(function (res) {\n          _this3.$message.success('删除成功');\n\n          _this3.$router.go(-1);\n        });\n      }).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleImg: function handleImg(img) {\n      openWindow(img, '图片预览', '500', '400');\n    },\n    handelMmended: function handelMmended(e) {\n      var _this4 = this;\n\n      var temp = {\n        filed: 'ec_rec',\n        id: this.shop.id\n      };\n      var str = '';\n\n      if (e) {\n        temp.value = 1;\n        str = '电商推荐已开启';\n      } else {\n        temp.value = 0;\n        str = '电商推荐已关闭';\n      }\n\n      PostDataByRecommended(temp).then(function (res) {\n        _this4.$message.success(str);\n      });\n    },\n    handelwithdrawal: function handelwithdrawal(e) {\n      var _this5 = this;\n\n      var temp = {\n        filed: 'withdrawal',\n        id: this.shop.id,\n        value: e\n      };\n      var str = '';\n\n      if (e === 1) {\n        str = '提现已开启';\n      } else {\n        str = '提现已关闭';\n      }\n\n      this.shop.withdrawal = e;\n      PostDataByRecommended(temp).then(function (res) {\n        _this5.$message.success(str);\n      });\n    },\n    handelmk_rec: function handelmk_rec(e) {\n      var _this6 = this;\n\n      var temp = {\n        filed: 'mk_rec',\n        id: this.shop.id\n      };\n\n      if (e) {\n        temp.value = 1;\n      } else {\n        temp.value = 0;\n      }\n\n      var str = '';\n\n      if (e) {\n        str = '市场推荐已开启';\n      } else {\n        str = '市场推荐已关闭';\n      }\n\n      PostDataByRecommended(temp).then(function (res) {\n        _this6.$message.success(str);\n      });\n    },\n    handelbook: function handelbook(e) {\n      var _this7 = this;\n\n      var temp = {\n        filed: 'book',\n        id: this.shop.id\n      };\n\n      if (e) {\n        temp.value = 1;\n      } else {\n        temp.value = 0;\n      }\n\n      var str = '';\n\n      if (e) {\n        str = '宝典已开启';\n      } else {\n        str = '宝典已关闭';\n      }\n\n      PostDataByRecommended(temp).then(function (res) {\n        _this7.$message.success(str);\n      });\n    },\n    handelhang: function handelhang(e) {\n      var _this8 = this;\n\n      var temp = {\n        filed: 'to_hang',\n        id: this.shop.id\n      };\n\n      if (e) {\n        temp.value = 1;\n      } else {\n        temp.value = 0;\n      }\n\n      var str = '';\n\n      if (e) {\n        str = '挂帐已开启';\n      } else {\n        str = '挂帐已关闭';\n      }\n\n      PostDataByRecommended(temp).then(function (res) {\n        _this8.$message.success(str);\n      });\n    },\n    handelWhite: function handelWhite(type) {\n      var _this9 = this;\n\n      //市场拉白\n      var tmep = {};\n\n      if (type === 'ma') {\n        var temp = {\n          id: this.shop.id,\n          blacklist: 1,\n          blackday: 0,\n          blackend: 0\n        };\n      }\n\n      if (type === 'ec') {\n        var temp = {\n          id: this.shop.id,\n          ecblacklist: 1,\n          ecblackday: 0,\n          ecblackend: 0\n        };\n      }\n\n      PostWhiteByUpdate(temp).then(function (res) {\n        _this9.$message.success('拉白成功');\n\n        _this9.getinfo();\n\n        _this9.whiteVisible = false;\n      });\n    },\n    clickToWhite: function clickToWhite() {\n      this.whiteVisible = false;\n    },\n    handleChange: function handleChange(value) {\n      this.day = value[1];\n      console.log(value[0]);\n\n      if (value[0] === 2) {\n        this.backtemp.blacklist = value[0];\n        this.backtemp.blackday = value[1];\n        this.backtemp.id = this.id;\n        this.backtemp.ecblacklist = undefined;\n        this.backtemp.ecblackday = undefined;\n      }\n\n      if (value[0] === 3) {\n        this.backtemp.ecblacklist = value[0];\n        this.backtemp.ecblackday = value[1];\n        this.backtemp.blacklist = undefined;\n        this.backtemp.blackday = undefined;\n        this.backtemp.id = this.id;\n      }\n    },\n    //拉黑\n    handleBack: function handleBack() {\n      var _this10 = this;\n\n      var _this = this;\n\n      var day = this.day;\n\n      if (day === 100000) {\n        day = '永久';\n      } else {\n        day = day + '天';\n      }\n\n      this.$confirm('此操作将该门店 ' + day + ' 拉黑, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        PostBlackByUpdate(_this10.backtemp).then(function (res) {\n          console.log(res);\n          _this.BlockVisible = !_this10.BlockVisible;\n\n          _this10.$message.success('拉黑成功');\n\n          _this10.getinfo();\n        });\n      }).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    getinfo: function getinfo() {\n      var _this11 = this;\n\n      GetIDByDetails(this.id).then(function (res) {\n        _this11.shop = res.data; // if(this.shop)\n\n        if (_this11.shop.book === 1) {\n          _this11.shop.book = true;\n        }\n\n        if (_this11.shop.ec_rec === 1) {\n          _this11.shop.ec_rec = true;\n        }\n\n        if (_this11.shop.to_hang === 1) {\n          _this11.shop.to_hang = true;\n        }\n\n        if (_this11.shop.mk_rec === 1) {\n          _this11.shop.mk_rec = true;\n        }\n\n        if (_this11.shop.blacklist === 1) {\n          _this11.shop.blacklist = true;\n        }\n      });\n    },\n    clickToEdInfo: function clickToEdInfo() {\n      this.postFrom = this.shop;\n\n      if (this.postFrom.cityCode) {\n        if (this.postFrom.cityCode.constructor === String) {\n          var li = this.postFrom.cityCode.split(',');\n          var arr = [];\n\n          for (var i = 0; i < li.length; i++) {\n            arr.push(li[i]);\n          }\n\n          this.postFrom.cityCode = arr;\n        }\n      }\n\n      this.dialogEdInfo = !this.dialogEdInfo;\n    },\n    handleCloseInfo: function handleCloseInfo() {\n      this.getinfo();\n      this.dialogEdInfo = !this.dialogEdInfo;\n    },\n    handleCloseBuss: function handleCloseBuss() {\n      this.getinfo();\n      this.dialogBuss = !this.dialogBuss;\n    },\n    handleCloseBind: function handleCloseBind() {\n      this.getinfo();\n      this.dialogBind = !this.dialogBind;\n    },\n    handleClose: function handleClose() {\n      this.getinfo();\n      this.dialogVisible = !this.dialogVisible;\n    },\n    clickToDeSync: function clickToDeSync() {\n      console.log('解封同步');\n    },\n    clickToBlock: function clickToBlock() {\n      this.BlockVisible = !this.BlockVisible;\n    },\n    clickToDeBlock: function clickToDeBlock() {\n      console.log('拉白');\n    },\n    clickToEdBase: function clickToEdBase() {\n      this.postFrom = this.shop;\n\n      if (this.postFrom.cityCode.constructor === String) {\n        var li = this.postFrom.cityCode.split(',');\n        var arr = [];\n\n        for (var i = 0; i < li.length; i++) {\n          arr.push(li[i]);\n        }\n\n        this.postFrom.cityCode = arr;\n      }\n\n      this.dialogVisible = !this.dialogVisible;\n      console.log('改基本信息');\n    },\n    clickToEdBuss: function clickToEdBuss() {\n      this.postFrom = this.shop;\n      this.dialogBuss = !this.dialogBuss;\n    },\n    clickToEdBind: function clickToEdBind() {\n      this.postFrom = this.shop;\n      this.dialogBind = !this.dialogBind;\n      console.log('修改绑定');\n    }\n  }\n};",null]}