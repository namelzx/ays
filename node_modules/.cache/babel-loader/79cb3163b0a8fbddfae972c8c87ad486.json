{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfocost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfocost.vue","mtime":1588139432742},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/objectSpread2\"));\n\nvar _operationinfo = _interopRequireDefault(require(\"./info/operationinfo\"));\n\nvar _operatprint = _interopRequireDefault(require(\"./info/operatprint\"));\n\nvar _timeline = _interopRequireDefault(require(\"./info/timeline\"));\n\nvar _returnVisit = _interopRequireDefault(require(\"./info/returnVisit\"));\n\nvar _costorder = require(\"@/api/costorder\");\n\nvar _uploadList = _interopRequireDefault(require(\"@/components/Upload/uploadList\"));\n\nvar _config = _interopRequireDefault(require(\"@/config\"));\n\nvar _vuex = require(\"vuex\");\n\nvar _methods;\n\nvar _default2 = {\n  name: 'Info',\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)(['userinfo', 'brand', 'group'])),\n  components: {\n    DetailsInfo: _operationinfo.default,\n    Timeline: _timeline.default,\n    DetailsPrint: _operatprint.default,\n    returnVisit: _returnVisit.default,\n    Upload: _uploadList.default\n  },\n  props: {\n    postFrom: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    infodialogVisible: {\n      type: Boolean,\n      default: false\n    },\n    Stitle: {\n      type: String,\n      default: '费用单详情'\n    }\n  },\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      activeName: \"payinstall\",\n      permissions: [],\n      // 权限组\n      reTitle: '',\n      sale: [],\n      returninnerVisible: false,\n      content: '',\n      img: []\n    }, (0, _defineProperty2.default)(_ref, \"activeName\", 'install'), (0, _defineProperty2.default)(_ref, \"loglist\", []), (0, _defineProperty2.default)(_ref, \"config\", {\n      fileName: 'file',\n      limit: 5,\n      multiple: false,\n      accept: 'image/*',\n      action: _config.default.uploadUrl.img,\n      drag: false\n    }), (0, _defineProperty2.default)(_ref, \"imglist\", []), (0, _defineProperty2.default)(_ref, \"videolist\", []), _ref;\n  },\n  created: function created() {\n    var _this = this;\n\n    this.permissions = this.group.btn.split(',');\n\n    if (this.postFrom.imglist) {\n      this.imglist = this.postFrom.imglist.split(',');\n    }\n\n    if (this.postFrom.videolist) {\n      this.videolist = this.postFrom.videolist.split(',');\n    }\n\n    (0, _costorder.GetIdByOrderLog)(this.postFrom.id).then(function (res) {\n      _this.loglist = res.data;\n    });\n  },\n  methods: (_methods = {\n    handelPirintin: function handelPirintin() {\n      var subOutputRankPrint = document.getElementById('print');\n      console.log(subOutputRankPrint.innerHTML);\n      var newContent = subOutputRankPrint.innerHTML;\n      var oldContent = document.body.innerHTML;\n      var bdhtml = window.document.body.innerHTML;\n      var sprnstr = \"<!--startprint-->\";\n      var eprnstr = \"<!--endprint-->\";\n      var prnhtml = bdhtml.substr(bdhtml.indexOf(sprnstr) + 17);\n      prnhtml = prnhtml.substr(0, prnhtml.indexOf(eprnstr));\n      window.document.body.innerHTML = prnhtml;\n      document.body.innerHTML = newContent;\n      window.print();\n      window.location.reload();\n      document.body.innerHTML = oldContent;\n      return false;\n    },\n    handelRuimg: function handelRuimg() {},\n    rolesbtn: function rolesbtn(val) {\n      var index = this.permissions.indexOf(val);\n\n      if (index > -1) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    // 添加售后数据\n    handelContent: function handelContent() {\n      var _this2 = this;\n\n      var data = {\n        content: this.content,\n        img: this.img.join('|'),\n        type: this.activeName,\n        order_id: this.postFrom.id\n      };\n      (0, _costorder.PostDataBySale)(data).then(function (res) {\n        console.log(res);\n\n        _this2.getsale();\n\n        _this2.returninnerVisible = !_this2.returninnerVisible;\n      });\n    },\n    getsale: function getsale() {\n      var _this3 = this;\n\n      var temp = {\n        order_id: this.postFrom.id,\n        type: this.activeName\n      };\n      (0, _costorder.GetTypeBySale)(temp).then(function (res) {\n        // this.sale=res.data\n        var arr = [];\n\n        for (var i = 0; i < res.data.length; i++) {\n          arr[i] = res.data[i];\n          arr[i].img = res.data[i].img.split('|');\n        }\n\n        _this3.sale = arr;\n      });\n    }\n  }, (0, _defineProperty2.default)(_methods, \"handelRuimg\", function handelRuimg(row) {\n    this.img = row;\n    console.log(row);\n  }), (0, _defineProperty2.default)(_methods, \"handleClose\", function handleClose() {\n    this.$emit('handelInfoDialog', !this.infodialogVisible);\n  }), (0, _defineProperty2.default)(_methods, \"handleClick\", function handleClick(tab, event) {\n    var _this4 = this;\n\n    //\n    if (tab.paneName === 'instalog') {\n      this.loglist = [];\n      (0, _costorder.GetIdByinstaOrderLog)(this.postFrom.order_id).then(function (res) {\n        _this4.loglist = res.data;\n      });\n    }\n\n    if (tab.paneName === 'return') {\n      this.getsale();\n    }\n\n    console.log('售后服务');\n\n    if (tab.paneName === 'sales') {\n      this.getsale();\n    }\n  }), _methods)\n};\nexports.default = _default2;",null]}