{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/sendOper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/sendOper.vue","mtime":1591035436888},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _objectSpread from \"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread2\";\nimport _defineProperty from \"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { CarBrand } from \"@/api/tools\";\nimport ShList from \"@/components/shop/index\";\nimport { Citylist } from \"@/api/city\";\nimport { GetSaleByAll } from \"@/api/salesman\";\nimport { mapGetters } from \"vuex\";\nimport { GetDataByList, GetDataByShopAll } from \"@/api/shop\";\nimport { change, changeAll, del, delAll, GetIdBydetails, PostDataByAdd } from \"@/api/costorder\";\nimport { GetecshopByList } from \"@/api/ecshop\";\nimport { getArrByKey, pickerOptions } from \"@/utils\";\nimport { GetProductByTree } from \"@/api/product\";\nimport UploadList from \"@/components/Upload/uploadList\";\nexport default {\n  name: \"SendOrder\",\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      is_load: false,\n      vilist: [],\n      shopQuery: {\n        cityCode: undefined,\n        shopname: undefined,\n        page: 1,\n        limit: 10,\n        tel: undefined\n      },\n      imgl: [],\n      imglist: [],\n      videolist: [],\n      is_disabled: false,\n      loading: false,\n      innerVisible: false,\n      checked: true,\n      tableKey: 0,\n      CarModellist: [],\n      // 车型数据\n      lazada: [],\n      // 所有平台\n      salesman: [],\n      // 所有业务员\n      retype: [{\n        label: \"待初审\",\n        value: 1\n      }, {\n        label: \"待财审1\",\n        value: 2\n      }, {\n        label: \"待财审2\",\n        value: 3\n      }, {\n        label: \"待结算\",\n        value: 4\n      }, {\n        label: \"已结算\",\n        value: 5\n      }, {\n        label: \"驳回\",\n        value: 6\n      }],\n      //\n      carl: [],\n      list: null,\n      total: null,\n      cityoptions: [],\n      // 地址\n      selectedRows: null,\n      listLoading: true,\n      showSearch: false,\n      options: [],\n      shop: [],\n      listQuery: {\n        page: 1,\n        limit: 10,\n        status: \"-1\",\n        title: \"\"\n      },\n      postFrom: {},\n      buttonDisabled: true,\n      deleting: false,\n      pickerOptions: pickerOptions,\n      currentIndex: -1,\n      productTree: [],\n      regionHiera: []\n    }, _defineProperty(_ref, \"shop\", []), _defineProperty(_ref, \"innerVisible\", false), _ref;\n  },\n  computed: _objectSpread({}, mapGetters([\"userinfo\", \"brand\"])),\n  components: {\n    UploadList: UploadList,\n    ShList: ShList\n  },\n  props: {\n    stitle: {\n      type: String,\n      default: \"\"\n    },\n    dialogVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    GetecshopByList().then(function (res) {\n      _this.lazada = res.data;\n    });\n    this.postFrom.proposer = this.userinfo.realName;\n    this.postFrom.status = 1;\n  },\n  mounted: function mounted() {\n    console.log(this.userinfo);\n  },\n  methods: {\n    handelToshop: function handelToshop(row) {\n      this.postFrom.shop_id = row.id;\n      this.postFrom.shop_location = row.cityName + \" \" + row.location;\n      this.postFrom.shop_tel = row.tel;\n      this.innerVisible = !this.innerVisible;\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.shopQuery.limit = val;\n      this.shopList();\n    },\n    handleStatusChange: function handleStatusChange(val) {\n      this.shopQuery.page = 1;\n      this.shopList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.shopQuery.page = val;\n      this.shopList();\n    },\n    shopList: function shopList() {\n      var _this2 = this;\n\n      GetDataByList(this.shopQuery).then(function (response) {\n        _this2.shoplist = response.data.data;\n        _this2.shoptotal = response.data.total;\n      });\n    },\n    handelInn: function handelInn() {\n      this.shop = [];\n      this.innerVisible = !this.innerVisible;\n    },\n    handelCreate: function handelCreate() {\n      var _this3 = this;\n\n      console.log(this.postFrom.lazada_list);\n\n      if (this.postFrom.lazada_list == undefined || this.postFrom.lazada_list.length < 1) {\n        this.$message.error('平台必须选');\n        return;\n      }\n\n      if (this.postFrom.bank == undefined) {\n        this.$message.error('银行必填');\n        return;\n      }\n\n      var img = [];\n\n      for (var i = 0; i < this.imglist.length; i++) {\n        img.push(this.imglist[i].url);\n        this.imgl.push(this.imglist[i].url);\n      }\n\n      var video = [];\n\n      for (var _i = 0; _i < this.videolist.length; _i++) {\n        video.push(this.videolist[_i].url);\n        this.vilist.push(this.videolist[_i].url);\n      }\n\n      this.postFrom.logcontent = this.userinfo.realName + \"创建订单\";\n      this.postFrom.imglist = img.join(\",\");\n      this.postFrom.videolist = video.join(\",\"); // this.postFrom.city_code = this.postFrom.city_code.join(\",\");\n      // this.postFrom.car_model = this.postFrom.car_model.join(\",\");\n\n      this.postFrom.lazada_list = this.postFrom.lazada_list.join(\",\"); // this.postFrom.buy_product_id = this.postFrom.buy_product_id.join(\",\");\n\n      PostDataByAdd(this.postFrom).then(function (res) {\n        _this3.$emit(\"handleClose\");\n\n        _this3.$message.success(\"操作成功\");\n      });\n    },\n    handelFile: function handelFile(e) {\n      this.imglist.push({\n        url: e.file.data\n      });\n    },\n    // handelFile2(e) {\n    //   this.imglist2.push({ url: e.file.data });\n    // },\n    // handelFile3(e) {\n    //   this.imglist3.push({ url: e.file.data });\n    // },\n    handelVideo: function handelVideo(e) {\n      this.videolist.push({\n        url: e.file.data\n      });\n    },\n    // handelVideo2(e) {\n    //   this.videolist2.push({ url: e.file.data });\n    // },\n    loadData: function loadData() {\n      var _this4 = this;\n\n      this.loading = !this.loading;\n      GetIdBydetails(this.postFrom.order_id).then(function (res) {\n        if (res.data === 404) {\n          _this4.$message.error(\"该订单不存在\");\n\n          _this4.loading = !_this4.loading;\n          return true;\n        }\n\n        _this4.is_load = true; // 如果使用订单载人那么用户不可修改数据\n\n        var postFrom = res.data;\n\n        if (postFrom.city_code.constructor === String) {\n          postFrom.city_code = postFrom.city_code.split(\",\");\n        }\n\n        if (postFrom.car_model.constructor === String) {\n          postFrom.car_model = postFrom.car_model.split(\",\");\n        }\n\n        if (postFrom.buy_product_id.constructor === String) {\n          postFrom.buy_product_id = postFrom.buy_product_id.split(\",\");\n        }\n\n        var buy_product_id = postFrom.buy_product_id;\n        postFrom.buy_product_id = [];\n\n        for (var i = 0; i < buy_product_id.length; i++) {\n          postFrom.buy_product_id.push(parseInt(buy_product_id[i]));\n        }\n\n        if (postFrom.lazada_list.constructor === String) {\n          postFrom.lazada_list = postFrom.lazada_list.split(\",\");\n        }\n\n        var lazada = postFrom.lazada_list;\n        postFrom.lazada_list = [];\n\n        for (var _i2 = 0; _i2 < lazada.length; _i2++) {\n          postFrom.lazada_list.push(parseInt(lazada[_i2]));\n        }\n\n        _this4.postFrom = postFrom;\n        _this4.postFrom.order_id = postFrom.id;\n        _this4.loading = !_this4.loading;\n      });\n    },\n    // 所选门店\n    handleShop: function handleShop(e) {\n      this.postFrom.shop_id = e;\n\n      for (var i = 0; i < this.shop.length; i++) {\n        if (e === this.shop[i].id) {\n          this.postFrom.shop_location = this.shop[i].cityName + \" \" + this.shop[i].location;\n          this.postFrom.shop_tel = this.shop[i].tel;\n          return;\n        }\n      }\n    },\n    handleClose: function handleClose() {\n      this.$emit(\"handleClose\");\n    },\n    updateRow: function updateRow(type) {\n      this.postFrom.logcontent = this.userinfo.realName + \"创建订单\";\n    }\n  }\n};",null]}