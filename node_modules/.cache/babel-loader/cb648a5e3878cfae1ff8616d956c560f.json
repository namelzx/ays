{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfo.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _objectSpread from \"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread2\";\n\nvar _methods;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DetailsInfo from \"./info/details\";\nimport InstallInfo from \"./info/install\";\nimport Timeline from \"./info/timeline\";\nimport returnVisit from \"./info/returnVisit\";\nimport { GetIdByOrderLog, GetTypeBySale, PostDataBySale, GetIdByinstaOrderLog } from '@/api/payorder';\nimport Upload from '@/components/Upload/uploadList';\nimport config from '@/config';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'OrderInfo',\n  computed: _objectSpread({}, mapGetters(['userinfo', 'brand', 'group'])),\n  components: {\n    DetailsInfo: DetailsInfo,\n    Timeline: Timeline,\n    returnVisit: returnVisit,\n    Upload: Upload,\n    InstallInfo: InstallInfo\n  },\n  props: {\n    OrderInfo: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    infodialogVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      permissions: [],\n      //权限组\n      reTitle: '',\n      sale: [],\n      returninnerVisible: false,\n      content: '',\n      img: [],\n      activeName: 'payinstall',\n      loglist: [],\n      config: {\n        fileName: 'file',\n        limit: 5,\n        multiple: false,\n        accept: 'image/*',\n        action: config.uploadUrl.img,\n        drag: false\n      },\n      imglist: [],\n      videolist: []\n    };\n  },\n  created: function created() {\n    this.permissions = this.group.btn.split(',');\n    this.imglist = this.postFrom.imglist.split(','), this.videolist = this.postFrom.videolist.split(',');\n  },\n  methods: (_methods = {\n    handelRuimg: function handelRuimg() {},\n    rolesbtn: function rolesbtn(val) {\n      var index = this.permissions.indexOf(val);\n\n      if (index > -1) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    //添加售后数据\n    handelContent: function handelContent() {\n      var _this = this;\n\n      var data = {\n        content: this.content,\n        img: this.img.join('|'),\n        type: this.activeName,\n        order_id: this.OrderInfo.id\n      };\n      PostDataBySale(data).then(function (res) {\n        console.log(res);\n\n        _this.getsale();\n\n        _this.returninnerVisible = !_this.returninnerVisible;\n      });\n    },\n    getsale: function getsale() {\n      var _this2 = this;\n\n      var temp = {\n        order_id: this.OrderInfo.id,\n        type: this.activeName\n      };\n      GetTypeBySale(temp).then(function (res) {\n        // this.sale=res.data\n        var arr = [];\n\n        for (var i = 0; i < res.data.length; i++) {\n          arr[i] = res.data[i];\n          arr[i].img = res.data[i].img.split('|');\n        }\n\n        _this2.sale = arr;\n      });\n    }\n  }, _defineProperty(_methods, \"handelRuimg\", function handelRuimg(row) {\n    this.img = row;\n    console.log(row);\n  }), _defineProperty(_methods, \"handleClose\", function handleClose() {\n    this.$emit('handelInfoDialog', !this.infodialogVisible);\n  }), _defineProperty(_methods, \"handleClick\", function handleClick(tab, event) {\n    var _this3 = this;\n\n    //\n    if (tab.paneName === 'paylog') {\n      this.loglist = [];\n      GetIdByOrderLog(this.OrderInfo.id).then(function (res) {\n        _this3.loglist = res.data;\n      });\n    }\n\n    if (tab.paneName === 'instalog') {\n      this.loglist = [];\n      GetIdByinstaOrderLog(this.OrderInfo.order_id).then(function (res) {\n        _this3.loglist = res.data;\n      });\n    }\n\n    if (tab.paneName === 'return') {\n      this.getsale();\n    }\n\n    console.log('售后服务');\n\n    if (tab.paneName === 'sales') {\n      this.getsale();\n    }\n  }), _methods)\n};",null]}