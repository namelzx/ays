{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/components/coupon.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/components/coupon.vue","mtime":1596071445487},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/objectSpread2\"));\n\nvar _shopgroup = require(\"@/api/shopgroup\");\n\nvar _platformcoupon = require(\"@/api/platformcoupon\");\n\nvar _utils = require(\"@/utils\");\n\nvar _vuex = require(\"vuex\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'ZiChan',\n  data: function data() {\n    return {\n      postFrom: {},\n      group: [],\n      date: '',\n      date2: '',\n      sortOpt: '',\n      statusOpt: '',\n      expirOpt: '',\n      curTicket: '',\n      showTicket: false,\n      showCoupon: false,\n      // 新建优惠券弹出层\n      navbar: ['无金额限制', '最低消费'],\n      navindex: 0,\n      periodlist: ['固定日期', '领取生效，有效天数'],\n      periodid: 0,\n      statusop: [{\n        value: 1,\n        label: '发送中'\n      }, {\n        value: 3,\n        label: '已删除'\n      }, {\n        value: 2,\n        label: '已过期'\n      }],\n      sort: [{\n        value: '通用券',\n        label: '通用券'\n      }, {\n        value: '阿帕通用',\n        label: '阿帕通用'\n      }, {\n        value: '非阿帕通用',\n        label: '非阿帕通用'\n      }],\n      options: [{\n        value: '已过期',\n        label: '已过期'\n      }, {\n        value: '发送中',\n        label: '发送中'\n      }, {\n        value: '已删除',\n        label: '已删除'\n      }],\n      expirTime: [{\n        value: 0,\n        label: '全部'\n      }, {\n        value: 7,\n        label: '7天内'\n      }, {\n        value: 30,\n        label: '30天内'\n      }],\n      ticketList: [{\n        id: 1,\n        sub_money: '200',\n        condition: '2599',\n        owner: '阿帕专享',\n        comment: [{\n          text: '此优惠券不与其他优惠券同时使用 此优惠券不与其他优惠券同时使用'\n        }, {\n          text: '此优惠券不与其他优惠券同时使用 此优惠券不与其他优惠券同时使用'\n        }],\n        start_time: '2019.11.1 00:00',\n        end_time: '2019.11.1 23:59',\n        status: 1 // 未使用\n\n      }, {\n        id: 2,\n        sub_money: '200',\n        condition: '2599',\n        owner: '非阿帕专享',\n        comment: [{\n          text: '此优惠券不与其他优惠券同时使用 此优惠券不与其他优惠券同时使用'\n        }],\n        start_time: '2019.11.1 00:00',\n        end_time: '2019.11.1 23:59',\n        status: 2 // 已使用\n\n      }, {\n        id: 3,\n        sub_money: '200',\n        condition: '2599',\n        owner: '通用券',\n        comment: [{\n          text: '此优惠券不与其他优惠券同时使用 此优惠券不与其他优惠券同时使用'\n        }, {\n          text: '此优惠券不与其他优惠券同时使用 此优惠券不与其他优惠券同时使用'\n        }],\n        start_time: '2019.11.1 00:00',\n        end_time: '2019.11.1 23:59',\n        status: 3 // 过期\n\n      }, {\n        id: 4,\n        sub_money: '200',\n        condition: '2599',\n        owner: '通用券',\n        comment: [{\n          text: '此优惠券不与其他优惠券同时使用 此优惠券不与其他优惠券同时使用'\n        }, {\n          text: '此优惠券不与其他优惠券同时使用 此优惠券不与其他优惠券同时使用'\n        }],\n        start_time: '2019.11.1 00:00',\n        end_time: '2019.11.1 23:59',\n        status: 3 // 过期\n\n      }],\n      currentPage: 1,\n      showTime: false,\n      total: 1,\n      money: '',\n      // 新建金额\n      radio: '全部',\n      // 新建发送对象\n      impose: '',\n      // 新建使用条件，最低消费金额\n      value1: '',\n      // 新建固定日期 ,\n      month: '',\n      // 新建有效天数\n      textarea: '',\n      // 新建使用说明\n      loading: false,\n      listQuery: {\n        page: 1,\n        limit: 10,\n        status: undefined,\n        title: '',\n        sstatus: 'all'\n      }\n    };\n  },\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)([\"userinfo\", \"brand\", \"group\"])),\n  created: function created() {\n    var _this = this;\n\n    var temp = {};\n    (0, _shopgroup.GetDataByList)(temp).then(function (res) {\n      _this.group = res.data;\n    });\n    this.getlist();\n  },\n  methods: {\n    clickDelete: function clickDelete(row) {\n      var _this2 = this;\n\n      this.$confirm('此操作将永久删除该优惠卷, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var index = _this2.ticketList.indexOf(row);\n\n        _this2.ticketList.splice(index, 1);\n\n        (0, _platformcoupon.GetIdByDelete)(row.id).then(function (res) {\n          _this2.ticketList[index].status = 3;\n\n          _this2.$message.success('删除成功');\n        });\n      }).catch(function () {});\n    },\n    getlist: function getlist() {\n      var _this3 = this;\n\n      this.loading = true;\n      (0, _platformcoupon.GetcouponByList)(this.listQuery).then(function (res) {\n        _this3.ticketList = res.data.data;\n        _this3.total = res.data.total;\n        _this3.loading = false;\n      });\n    },\n    handleFilter: function handleFilter() {\n      this.listQuery.page = 1;\n      this.getlist();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQuery.limit = val;\n      this.getlist();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQuery.page = val;\n      this.getlist();\n    },\n    clickToSearch: function clickToSearch() {\n      var temp = {\n        sort: this.sortOpt,\n        status: this.statusOpt,\n        expir: this.expirOpt\n      };\n      console.log(temp);\n    },\n    clickTicket: function clickTicket(item) {\n      if (item) {\n        this.curTicket = item;\n      }\n\n      this.showTicket = !this.showTicket;\n    },\n    clickToPickTime: function clickToPickTime() {\n      this.showTime = !this.showTime;\n    },\n    clickToNewTicket: function clickToNewTicket() {\n      this.headColse();\n    },\n    clickToRec: function clickToRec() {\n      console.log(2);\n    },\n    clickToDelTicket: function clickToDelTicket() {\n      console.log(3);\n    },\n    clickToDelRec: function clickToDelRec() {\n      console.log(4);\n    },\n    cilckNav: function cilckNav(index) {\n      this.navindex = index;\n    },\n    cilckPeriodid: function cilckPeriodid(index) {\n      this.periodid = index;\n    },\n    headColse: function headColse() {\n      this.showCoupon = !this.showCoupon;\n    },\n    // 确定新建\n    headNewconfirm: function headNewconfirm() {\n      var _this4 = this;\n\n      this.postFrom.sender_id = this.userinfo.id;\n      this.postFrom.type = 1;\n      (0, _platformcoupon.PostDataByAdd)(this.postFrom).then(function (res) {\n        console.log(res);\n        _this4.postFrom = {};\n\n        _this4.$message.success('新建完成');\n\n        _this4.getlist();\n      });\n      this.headColse();\n    },\n    headNewcancel: function headNewcancel() {\n      this.headColse();\n    }\n  }\n};\nexports.default = _default;",null]}