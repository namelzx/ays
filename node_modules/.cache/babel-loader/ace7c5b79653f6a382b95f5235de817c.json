{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/cost/install/OrderInfo.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/defineProperty\"));\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/objectSpread2\"));\n\nvar _details = _interopRequireDefault(require(\"./info/details\"));\n\nvar _install = _interopRequireDefault(require(\"./info/install\"));\n\nvar _timeline = _interopRequireDefault(require(\"./info/timeline\"));\n\nvar _returnVisit = _interopRequireDefault(require(\"./info/returnVisit\"));\n\nvar _payorder = require(\"@/api/payorder\");\n\nvar _uploadList = _interopRequireDefault(require(\"@/components/Upload/uploadList\"));\n\nvar _config = _interopRequireDefault(require(\"@/config\"));\n\nvar _vuex = require(\"vuex\");\n\nvar _methods;\n\nvar _default2 = {\n  name: 'OrderInfo',\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)(['userinfo', 'brand', 'group'])),\n  components: {\n    DetailsInfo: _details.default,\n    Timeline: _timeline.default,\n    returnVisit: _returnVisit.default,\n    Upload: _uploadList.default,\n    InstallInfo: _install.default\n  },\n  props: {\n    OrderInfo: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    infodialogVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      permissions: [],\n      //权限组\n      reTitle: '',\n      sale: [],\n      returninnerVisible: false,\n      content: '',\n      img: [],\n      activeName: 'payinstall',\n      loglist: [],\n      config: {\n        fileName: 'file',\n        limit: 5,\n        multiple: false,\n        accept: 'image/*',\n        action: _config.default.uploadUrl.img,\n        drag: false\n      },\n      imglist: [],\n      videolist: []\n    };\n  },\n  created: function created() {\n    this.permissions = this.group.btn.split(',');\n    this.imglist = this.postFrom.imglist.split(','), this.videolist = this.postFrom.videolist.split(',');\n  },\n  methods: (_methods = {\n    handelRuimg: function handelRuimg() {},\n    rolesbtn: function rolesbtn(val) {\n      var index = this.permissions.indexOf(val);\n\n      if (index > -1) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    //添加售后数据\n    handelContent: function handelContent() {\n      var _this = this;\n\n      var data = {\n        content: this.content,\n        img: this.img.join('|'),\n        type: this.activeName,\n        order_id: this.OrderInfo.id\n      };\n      (0, _payorder.PostDataBySale)(data).then(function (res) {\n        console.log(res);\n\n        _this.getsale();\n\n        _this.returninnerVisible = !_this.returninnerVisible;\n      });\n    },\n    getsale: function getsale() {\n      var _this2 = this;\n\n      var temp = {\n        order_id: this.OrderInfo.id,\n        type: this.activeName\n      };\n      (0, _payorder.GetTypeBySale)(temp).then(function (res) {\n        // this.sale=res.data\n        var arr = [];\n\n        for (var i = 0; i < res.data.length; i++) {\n          arr[i] = res.data[i];\n          arr[i].img = res.data[i].img.split('|');\n        }\n\n        _this2.sale = arr;\n      });\n    }\n  }, (0, _defineProperty2.default)(_methods, \"handelRuimg\", function handelRuimg(row) {\n    this.img = row;\n    console.log(row);\n  }), (0, _defineProperty2.default)(_methods, \"handleClose\", function handleClose() {\n    this.$emit('handelInfoDialog', !this.infodialogVisible);\n  }), (0, _defineProperty2.default)(_methods, \"handleClick\", function handleClick(tab, event) {\n    var _this3 = this;\n\n    //\n    if (tab.paneName === 'paylog') {\n      this.loglist = [];\n      (0, _payorder.GetIdByOrderLog)(this.OrderInfo.id).then(function (res) {\n        _this3.loglist = res.data;\n      });\n    }\n\n    if (tab.paneName === 'instalog') {\n      this.loglist = [];\n      (0, _payorder.GetIdByinstaOrderLog)(this.OrderInfo.order_id).then(function (res) {\n        _this3.loglist = res.data;\n      });\n    }\n\n    if (tab.paneName === 'return') {\n      this.getsale();\n    }\n\n    console.log('售后服务');\n\n    if (tab.paneName === 'sales') {\n      this.getsale();\n    }\n  }), _methods)\n};\nexports.default = _default2;",null]}