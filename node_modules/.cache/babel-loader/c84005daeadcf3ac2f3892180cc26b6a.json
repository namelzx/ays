{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/components/components/CrmRelativeTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/marketing/components/components/CrmRelativeTable.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { GetDataByList, GetDataByShopAll } from '@/api/shop';\nimport { PostDataByAddShop, GetShopByVal, GetDataShopByList } from '@/api/shopgroup';\nexport default {\n  props: {\n    group_id: Number,\n    val: String\n  },\n  data: function data() {\n    return {\n      vadata: [],\n      listQuery: {\n        page: 1,\n        limit: 5,\n        title: ''\n      },\n      loading: false,\n      total: 0,\n      slist: [],\n      fieldList: [{\n        name: '门店名称',\n        field: 'shopname'\n      }, {\n        name: '店主',\n        field: 'shopkeeper'\n      }, {\n        name: '所在城市',\n        field: 'cityName'\n      }],\n      multipleSelection: []\n    };\n  },\n  created: function created() {\n    this.toggleSelection([]);\n    console.log('11');\n    this.shopList();\n  },\n  methods: {\n    handelCreate: function handelCreate() {\n      var _this = this;\n\n      var shop_id = '';\n\n      for (var i = 0; i < this.multipleSelection.length; i++) {\n        if (i > 0) {\n          shop_id = shop_id + ',' + this.multipleSelection[i].id;\n        } else {\n          shop_id = this.multipleSelection[i].id;\n        }\n      }\n\n      var temp = {\n        id: this.group_id,\n        val: this.val + ',' + shop_id\n      };\n      PostDataByAddShop(temp).then(function (res) {\n        _this.$emit('handleCloseShop', temp.val);\n      });\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQuery.limit = val;\n      this.shopList();\n    },\n    //某航选中事件\n    handleRowClick: function handleRowClick(row, column, event) {},\n    handleStatusChange: function handleStatusChange(val) {\n      this.listQuery.page = 1;\n      this.shopList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQuery.page = val;\n      this.shopList();\n    },\n    shopList: function shopList() {\n      var _this2 = this;\n\n      var that = this;\n      this.loading = true;\n      this.listQuery.val = this.val; //获得全部店铺\n\n      GetDataShopByList(this.listQuery).then(function (response) {\n        _this2.slist = response.data.data;\n        _this2.total = response.data.total;\n        _this2.loading = false; //获取已选店铺\n\n        if (_this2.val) {\n          GetShopByVal(_this2.val).then(function (res) {\n            _this2.vadata = res.data.data;\n            var arr = [];\n\n            for (var k = 0; k < _this2.vadata.length; k++) {\n              for (var i = 0; i < _this2.slist.length; i++) {\n                if (_this2.slist[i].id === _this2.vadata[k].id) {\n                  console.log(i);\n                  console.log(_this2.slist[i].id, _this2.vadata[k].id);\n                  arr.push(_this2.slist[i]);\n                }\n              }\n            }\n\n            _this2.toggleSelection(arr);\n          });\n        }\n      });\n    },\n    toggleSelection: function toggleSelection(rows) {\n      var _this3 = this;\n\n      if (rows) {\n        rows.forEach(function (row) {\n          _this3.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    checkItemsWithSelectedData: function checkItemsWithSelectedData() {}\n  }\n};",null]}