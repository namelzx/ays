{"remainingRequest":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js!/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzexiang/WebstormProjects/ays/src/views/manage/info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzexiang/WebstormProjects/ays/src/views/manage/info.vue","mtime":1587402564000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzexiang/WebstormProjects/ays/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport _objectSpread from \"/Users/liangzexiang/WebstormProjects/ays/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import Upload from '@/components/Upload/image'\nimport { modify } from '@/api/admin';\nimport { mapGetters } from 'vuex';\nimport store from '@/store';\nimport myconfig from '@/config';\nexport default {\n  name: 'MyInfo',\n  // components: { Upload },\n  data: function data() {\n    return {\n      btnLoading: false,\n      temp: {\n        password: '',\n        realName: store.getters.realName,\n        phone: store.getters.phone,\n        email: store.getters.email,\n        img: [store.getters.avatar]\n      },\n      config: {\n        fileName: 'img',\n        limit: 1,\n        multiple: true,\n        accept: 'image/*',\n        action: myconfig.uploadUrl.img\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['name', 'group'])),\n  watch: {\n    temp: {\n      handler: function handler(newVal, oldVal) {},\n      immediate: true,\n      deep: true\n    }\n  },\n  created: function created() {},\n  destroyed: function destroyed() {},\n  methods: {\n    saveData: function saveData() {\n      var _this2 = this;\n\n      this.btnLoading = true;\n      this.$refs['dataForm'].validate(function (valid) {\n        if (valid) {\n          var _this = _this2;\n          var d = _this2.temp;\n\n          if (_typeof(d.img) === 'object') {\n            d.img = d.img.join(',');\n          }\n\n          modify(d).then(function (response) {\n            if (response.status === 1) {\n              store.commit('SET_AVATAR', _this.temp.img);\n              store.commit('SET_REALNAME', _this.temp.realName);\n              store.commit('SET_PHONE', _this.temp.phone);\n              store.commit('SET_EMAIL', _this.temp.email);\n\n              _this.$message.success(response.msg);\n            } else {\n              _this.$message.error(response.msg);\n            }\n\n            _this.btnLoading = false;\n          }).catch(function (error) {\n            _this2.btnLoading = false;\n          });\n        } else {\n          _this2.btnLoading = false;\n        }\n      });\n    }\n  }\n};",null]}