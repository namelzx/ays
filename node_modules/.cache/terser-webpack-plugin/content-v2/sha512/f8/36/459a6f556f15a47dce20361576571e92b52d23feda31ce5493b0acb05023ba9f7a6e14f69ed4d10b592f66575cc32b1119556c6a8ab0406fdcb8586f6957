{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-019489b0\"],{1:function(e,t){},1407:function(e,t,n){\"use strict\";var i=n(\"8312\"),a=n.n(i);a.a},2:function(e,t){},3:function(e,t){},3796:function(e,t,n){\"use strict\";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"input\",{ref:\"excel-upload-input\",staticClass:\"excel-upload-input\",attrs:{type:\"file\",accept:\".xlsx, .xls\"},on:{change:e.handleClick}}),e._v(\" \"),n(\"div\",{staticClass:\"drop\",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[n(\"el-button\",{staticStyle:{\"margin-left\":\"16px\"},attrs:{loading:e.loading,size:\"mini\",type:\"primary\"},on:{click:e.handleUpload}},[e._v(\"导入文件\")])],1)])},a=[],l=(n(\"7f7f\"),n(\"1146\")),o=n.n(l),s={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,n=e.results;this.excelData.header=t,this.excelData.results=n,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var n=t[0];if(!this.isExcel(n))return this.$message.error(\"Only supports upload .xlsx, .xls, .csv suffix files\"),!1;this.upload(n),e.stopPropagation(),e.preventDefault()}else this.$message.error(\"Only support uploading one file!\")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect=\"copy\"},handleUpload:function(){this.$refs[\"excel-upload-input\"].click()},handleClick:function(e){var t=e.target.files,n=t[0];n&&this.upload(n)},upload:function(e){if(this.$refs[\"excel-upload-input\"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(n,i){var a=new FileReader;a.onload=function(e){var i=e.target.result,a=o.a.read(i,{type:\"array\"}),l=a.SheetNames[0],s=a.Sheets[l],r=t.getHeaderRow(s),c=o.a.utils.sheet_to_json(s);t.generateData({header:r,results:c}),t.loading=!1,n()},a.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,n=[],i=o.a.utils.decode_range(e[\"!ref\"]),a=i.s.r;for(t=i.s.c;t<=i.e.c;++t){var l=e[o.a.utils.encode_cell({c:t,r:a})],s=\"UNKNOWN \"+t;l&&l.t&&(s=o.a.utils.format_cell(l)),n.push(s)}return n},isExcel:function(e){return/\\.(xlsx|xls|csv)$/.test(e.name)}}},r=s,c=(n(\"744d\"),n(\"2877\")),d=Object(c[\"a\"])(r,i,a,!1,null,\"f216541c\",null);t[\"a\"]=d.exports},6724:function(e,t,n){\"use strict\";n(\"8d41\");var i=\"@@wavesContext\";function a(e,t){function n(n){var i=Object.assign({},t.value),a=Object.assign({ele:e,type:\"hit\",color:\"rgba(0, 0, 0, 0.15)\"},i),l=a.ele;if(l){l.style.position=\"relative\",l.style.overflow=\"hidden\";var o=l.getBoundingClientRect(),s=l.querySelector(\".waves-ripple\");switch(s?s.className=\"waves-ripple\":(s=document.createElement(\"span\"),s.className=\"waves-ripple\",s.style.height=s.style.width=Math.max(o.width,o.height)+\"px\",l.appendChild(s)),a.type){case\"center\":s.style.top=o.height/2-s.offsetHeight/2+\"px\",s.style.left=o.width/2-s.offsetWidth/2+\"px\";break;default:s.style.top=(n.pageY-o.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+\"px\",s.style.left=(n.pageX-o.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+\"px\"}return s.style.backgroundColor=a.color,s.className=\"waves-ripple z-active\",!1}}return e[i]?e[i].removeHandle=n:e[i]={removeHandle:n},n}var l={bind:function(e,t){e.addEventListener(\"click\",a(e,t),!1)},update:function(e,t){e.removeEventListener(\"click\",e[i].removeHandle,!1),e.addEventListener(\"click\",a(e,t),!1)},unbind:function(e){e.removeEventListener(\"click\",e[i].removeHandle,!1),e[i]=null,delete e[i]}},o=function(e){e.directive(\"waves\",l)};window.Vue&&(window.waves=l,Vue.use(o)),l.install=o;t[\"a\"]=l},\"744d\":function(e,t,n){\"use strict\";var i=n(\"8004\"),a=n.n(i);a.a},8004:function(e,t,n){},8312:function(e,t,n){},\"8d41\":function(e,t,n){},\"97cb\":function(e,t,n){\"use strict\";function i(e,t,n,i){var a=void 0!==window.screenLeft?window.screenLeft:screen.left,l=void 0!==window.screenTop?window.screenTop:screen.top,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,r=o/2-n/2+a,c=s/2-i/2+l,d=window.open(e,t,\"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width=\"+n+\", height=\"+i+\", top=\"+c+\", left=\"+r);window.focus&&d.focus()}n.d(t,\"a\",(function(){return i}))},d485:function(e,t,n){\"use strict\";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"form filter-container\"},[n(\"el-form\",{staticClass:\"form-inline\",attrs:{inline:!0,model:e.listQuery}},[n(\"el-form-item\",[n(\"InputForm\",{attrs:{title:\"门店id\"}},[n(\"el-input\",{attrs:{size:\"mini\",placeholder:\"请输入内容\"},model:{value:e.listQuery.id,callback:function(t){e.$set(e.listQuery,\"id\",t)},expression:\"listQuery.id\"}})],1)],1),e._v(\" \"),n(\"el-form-item\",[n(\"InputForm\",{attrs:{title:\"名称\"}},[n(\"el-input\",{attrs:{size:\"mini\",placeholder:\"请输入内容\"},model:{value:e.listQuery.shopname,callback:function(t){e.$set(e.listQuery,\"shopname\",t)},expression:\"listQuery.shopname\"}})],1)],1),e._v(\" \"),n(\"el-form-item\",[n(\"InputForm\",{attrs:{title:\"日期\"}},[n(\"el-date-picker\",{attrs:{size:\"mini\",type:\"date\",placeholder:\"选择日期\"},model:{value:e.listQuery.date,callback:function(t){e.$set(e.listQuery,\"date\",t)},expression:\"listQuery.date\"}})],1)],1),e._v(\" \"),n(\"el-form-item\",[n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"small\"},on:{click:e.handleFilter}},[e._v(\"搜索\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-upload2\",size:\"small\"},on:{click:e.handelDig}},[e._v(\"导入\")])],1)],1)],1),e._v(\" \"),n(\"el-dialog\",{attrs:{title:\"导入进货单\",visible:e.dialogVisible,width:\"50%\",\"before-close\":e.handleClose},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[n(\"upload-excel-component\",{attrs:{\"on-success\":e.handleSuccess,\"before-upload\":e.beforeUpload}}),e._v(\" \"),n(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"确 定\")])],1)],1),e._v(\" \"),n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.list,border:\"\"}},[n(\"el-table-column\",{attrs:{label:\"门店id\",\"min-width\":\"50px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(\"\\n         \"+e._s(t.row.shop_id)+\"\\n        \")])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"门店名称\",\"min-width\":\"130px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[t.row.shop?n(\"span\",[e._v(e._s(t.row.shop.shopname))]):n(\"span\",[e._v(\"无关联门店\")])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"日期\",\"min-width\":\"100px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e._f(\"parseTime\")(t.row.date,\"{y}/{m}/{d}\")))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"进货量\",\"min-width\":\"100px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(t.row.amount))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"120px\",\"class-name\":\"small-padding\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-tag\",{attrs:{type:\"warning\"},on:{click:function(n){return e.handelDelete(t.row)}}},[e._v(\"删除\")])]}}])})],1),e._v(\" \"),n(\"div\",{staticClass:\"pagination-container\"},[n(\"el-pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total>0,expression:\"total>0\"}],attrs:{\"current-page\":e.listQuery.page,\"page-sizes\":[10,20,30,50],\"page-size\":e.listQuery.psize,total:e.total,background:\"\",layout:\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)],1)},a=[],l=n(\"bd86\"),o=(n(\"ac6a\"),n(\"db6d\")),s=n(\"6724\"),r=(n(\"ed08\"),n(\"b775\"));function c(e){return Object(r[\"a\"])({url:\"/admin/stock/PostDataByAdd\",method:\"post\",data:e})}function d(e){return Object(r[\"a\"])({url:\"/admin/stock/GetDataByList\",method:\"post\",data:e})}function u(e){return Object(r[\"a\"])({url:\"/admin/stock/GetIdByDetele\",method:\"get\",params:{id:e}})}var p,f=n(\"97cb\"),h=n(\"3796\"),m={name:\"audit\",data:function(){return{Associated:{},news_edit:!1,cityoptions:[],ShopVisible:!1,form:{},salesman:[],input:\"\",tableKey:0,rejectedFrom:{shop_id:void 0,desc:void 0},postFrom:{},shoplist:[],listLoading:!0,total:0,checkList:[],dialogVisible:!1,innerVisible:!1,listQuery:{page:1,limit:10,status:\"1\",title:\"\"},BlockVisible:!1,shoptotal:0,backvalue:[],mcvalue:[],backtemp:{blacklist:void 0,blackday:void 0,id:void 0},day:0,shop:{id:\"\",type:1,type_star:1,ec_recom:1,mt_recom:1,book:1,update_star:1,score:1},list:[],adminll:[],shopQuery:{cityCode:void 0,shopname:void 0,page:1,limit:10,tel:void 0}}},components:{InputForm:o[\"a\"],waves:s[\"a\"],UploadExcelComponent:h[\"a\"]},created:function(){this.fetchList()},methods:(p={handelDig:function(){this.dialogVisible=!0},beforeUpload:function(e){var t=e.size/1024/1024<1;return!!t||(this.$message({message:\"Please do not upload files larger than 1m in size.\",type:\"warning\"}),!1)},handleSuccess:function(e){var t=this,n=e.results;e.header;console.log(n),c(n).then((function(e){t.$message.success(\"导入成功\"),t.fetchList()}))},handleImg:function(e){Object(f[\"a\"])(e,\"图片预览\",\"500\",\"400\")},handelDelete:function(e){var t=this,n=this.list.indexOf(e);this.list.splice(n,1),u(e.id).then((function(e){t.$message.success(\"删除成功\")}))},elCascaderOnlick:function(){var e=this;setTimeout((function(){document.querySelectorAll(\".el-cascader-node__label\").forEach((function(t){t.onclick=function(){this.previousElementSibling.click(),e.$refs.elcascader.dropDownVisible=!1}})),document.querySelectorAll(\".el-cascader-panel .el-radio\").forEach((function(t){t.onclick=function(){e.$refs.elcascader.dropDownVisible=!1}}))}),100)}},Object(l[\"a\"])(p,\"elCascaderOnlick\",(function(){var e=this;setTimeout((function(){document.querySelectorAll(\".el-cascader-node__label\").forEach((function(t){t.onclick=function(){this.previousElementSibling.click(),e.$refs.elcascader.dropDownVisible=!1}})),document.querySelectorAll(\".el-cascader-panel .el-radio\").forEach((function(t){t.onclick=function(){e.$refs.elcascader.dropDownVisible=!1}}))}),100)})),Object(l[\"a\"])(p,\"handelColse\",(function(){this.dialogVisible=!1})),Object(l[\"a\"])(p,\"fetchList\",(function(){var e=this;this.listLoading=!0,d(this.listQuery).then((function(t){e.list=t.data.data,e.total=t.data.total,e.listLoading=!1}))})),Object(l[\"a\"])(p,\"handleFilter\",(function(){this.listQuery.page=1,this.fetchList()})),Object(l[\"a\"])(p,\"handleFilterClear\",(function(){this.listQuery={page:1,limit:10,status:\"1\",title:\"\"},this.fetchList()})),Object(l[\"a\"])(p,\"handleClose\",(function(){this.dialogVisible=!1})),Object(l[\"a\"])(p,\"handleSizeChange\",(function(e){this.listQuery.psize=e,this.fetchList()})),Object(l[\"a\"])(p,\"handleCurrentChange\",(function(e){this.listQuery.page=e,this.fetchList()})),p)},v=m,g=(n(\"1407\"),n(\"2877\")),b=Object(g[\"a\"])(v,i,a,!1,null,\"b4abadca\",null);t[\"default\"]=b.exports}}]);","extractedComments":[]}