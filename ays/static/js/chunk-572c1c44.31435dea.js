(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-572c1c44","chunk-5667eb47","chunk-01461a80","chunk-2d0cf898"],{"041e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,stripe:""}},[n("el-table-column",{attrs:{prop:"order_id",label:"订单号",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"nickname",label:"车主",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"link-type"},[t._v(t._s(e.row.contact)+" "+t._s(e.row.tel))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"link-type"},[t._v(t._s(t._f("parseTime")(e.row.create_time)))])]}}])})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)},a=[],o=n("3191"),l=(n("ed08"),{name:"index",data:function(){return{dialogVisible:!1,list:[],title:""}},methods:{handleClose:function(){this.dialogVisible=!1},handleView:function(t,e,n){var i=this;this.dialogVisible=!0,"shop"===e&&(this.title="查看"+t.shopname),"order"===e&&(this.title="查看"+t.userName),"product"===e&&(this.title="查看"+t.product_title),console.log(t);var a={id:t.id,type:e,star:n};Object(o["i"])(a).then((function(t){i.list=t.data}))}}}),r=l,s=n("2877"),c=Object(s["a"])(r,i,a,!1,null,"f028cb66",null);e["default"]=c.exports},1352:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:t.list,stripe:""}},[n("el-table-column",{attrs:{type:"index",label:"排名",width:"180"}}),t._v(" "),"TOP城市"===t.title?n("el-table-column",{attrs:{prop:"title",label:"城市",width:"180"}}):t._e(),t._v(" "),"TOP产品"===t.title?n("el-table-column",{attrs:{prop:"title",label:"产品",width:"180"}}):t._e(),t._v(" "),"TOP业务员"===t.title?n("el-table-column",{attrs:{prop:"title",label:"业务员",width:"180"}}):t._e(),t._v(" "),"TOP省份"===t.title?n("el-table-column",{attrs:{prop:"title",label:"省份",width:"180"}}):t._e(),t._v(" "),n("el-table-column",{attrs:{prop:"count",label:"数量",width:"180"}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])],1)],1)},a=[],o=(n("3191"),n("ed08"),{name:"index",data:function(){return{dialogVisible:!1,list:[],title:""}},methods:{handleClose:function(){this.dialogVisible=!1},handleView:function(t,e){this.dialogVisible=!0,this.title=e,console.log(t),this.list=t.data}}}),l=o,r=n("2877"),s=Object(r["a"])(l,i,a,!1,null,"48dc3401",null);e["default"]=s.exports},"146e":function(t,e,n){},"297e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container top"},[n("div",{staticClass:"filter-container "},[n("el-form",{attrs:{inline:!0,model:t.listQuery}},[n("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.listQ.time,callback:function(e){t.$set(t.listQ,"time",e)},expression:"listQ.time"}}),t._v(" "),n("el-tooltip",{attrs:{content:"搜索",placement:"top"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleFilter()}}},[t._v("搜索\n                ")])],1)],1)],1),t._v(" "),n("div",{staticClass:"statistical bc"},[n("div",{staticClass:"item-st"},[n("div",{staticClass:"title"},[t._v("总订单")]),t._v(" "),n("div",{staticClass:"sj"},[t._v(t._s(t.ordersum))])]),t._v(" "),n("div",{staticClass:"item-st",staticStyle:{background:"#8cc8ff"}},[n("div",{staticClass:"title"},[t._v("时间段内")]),t._v(" "),n("div",{staticClass:"sj"},[t._v(t._s(t.timesum))])])]),t._v(" "),n("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"30px"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("TOP门店")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handelShow}},[t._v("更多")])],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.shop,stripe:"",size:"mini"}},[n("el-table-column",{attrs:{prop:"top",label:"排名",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"shopname",label:"门店",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{label:"类别"},scopedSlots:t._u([{key:"default",fn:function(e){return["普通"==e.row.shop_type?n("span",[t._v("普通")]):n("span",{staticClass:"link-type"},[t._v(t._s(e.row.shop_type))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.blacklist?n("div",{staticClass:"color: red",staticStyle:{color:"red"}},[t._v("\n                        市场拉黑("+t._s(e.row.blackday<356?e.row.blackday+"天后到期":"永久")+")\n                    ")]):t._e(),t._v(" "),3==e.row.ecblacklist?n("div",{staticStyle:{color:"red"}},[t._v("\n                        电商拉黑\n                        ("+t._s(e.row.ecblackday<356?e.row.ecblackday+"天后到期":"永久")+")\n                    ")]):t._e(),t._v(" "),1==e.row.ec_rec||1==e.row.mk_rec?n("div",{staticClass:"link-type"},[t._v("\n                        推荐\n                    ")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"宝典"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"link-type"},[t._v(t._s(t._f("book")(e.row.book)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"count",label:"单量"}}),t._v(" "),n("el-table-column",{attrs:{prop:"stock",label:"进货量"}}),t._v(" "),n("el-table-column",{attrs:{label:"管理",fixed:"right",align:"center","min-width":"300px","class-name":"small-padding"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{placement:"right",width:"100",trigger:"click"}},[n("div",[n("div",[n("el-link",{attrs:{type:1===e.row.ec_rec?"primary":""}},[t._v("电商推荐")]),t._v(" "),n("el-link",{attrs:{type:"warning"},on:{click:function(n){return t.handelSet(e.row,"ec_rec")}}},[t._v("\n                                    "+t._s(1===e.row.ec_rec?"取消推荐":"推荐")+"\n                                ")])],1),t._v(" "),n("div",[n("el-link",{attrs:{type:1===e.row.mk_rec?"primary":""}},[t._v("市场推荐")]),t._v(" "),n("el-link",{attrs:{type:"warning"},on:{click:function(n){return t.handelSet(e.row,"mk_rec")}}},[t._v("\n                                    "+t._s(1===e.row.mk_rec?"取消推荐":"推荐")+"\n                                ")])],1)]),t._v(" "),n("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("推荐")])],1),t._v(" "),n("el-tooltip",{attrs:{content:"拉黑",placement:"top"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.toShop(e.row)}}},[t._v("拉黑\n                        ")])],1),t._v(" "),n("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.clickToWhite(e.row)}}},[t._v("拉白\n                        ")])],1)]}}])})],1),t._v(" "),n("el-pagination",{attrs:{"current-page":t.listQ.page,"page-sizes":[10,20,30,50],"page-size":t.listQ.limit,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},a=[],o=n("3191"),l=n("63af"),r=n("e692"),s=n("041e"),c=n("1352"),u={name:"Index",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-7776e6),t.$emit("pick",[n,e])}}]},topshow:!1,listQuery:{time:[]},total:0,listQ:{time:[],page:1,limit:10},ordersum:0,timesum:0,provinces:{},product:{},salesman:{},activeName:"-1",shop:[],statistical:{order:0,Demand:0},city:{},order:[],backvalue:void 0,whiteVisible:!1,BlockVisible:!1,backtemp:{},options:[{value:2,label:"市场",children:[{value:1e5,label:"永久"},{value:7,label:"七天"},{value:30,label:"一个月"},{value:90,label:"三个月"},{value:365,label:"1年"}]},{value:3,label:"电商",children:[{value:1e5,label:"永久"},{value:7,label:"七天"},{value:30,label:"一个月"},{value:90,label:"三个月"},{value:365,label:"1年"}]}]}},components:{Test:l["default"],TableView:s["default"],TableTopView:c["default"]},provinces:[],filters:{book:function(t){return 1===t?"宝典":""}},created:function(){this.handelShop()},methods:{handelShow:function(){this.$router.push("/situation/evenshop")},handelShop:function(){var t=this;Object(o["b"])(this.listQ).then((function(e){t.total=e.data.total,t.shop=e.data.shop}))},handleTop:function(t,e){this.$refs.tableTopview.handleView(t,e)},handleSizeChange:function(t){this.listQ.limit=t,this.handelShop()},handleCurrentChange:function(t){this.listQ.page=t,this.handelShop()},handelSet:function(t,e){var n=this;console.log(t);var i={id:t.id,val:0};"mk_rec"===e&&(i.field="mk_rec",console.log(t.mk_rec,3),2===t.mk_rec?i.val=1:i.val=2),"ec_rec"===e&&(i.field="ec_rec",console.log(t.mk_rec,2),2===t.ec_rec?i.val=1:i.val=2),Object(r["u"])(i).then((function(t){n.getdata()}))},handleChange:function(t){this.day=t[1],console.log(t[0]),2===t[0]&&(this.backtemp.blacklist=t[0],this.backtemp.blackday=t[1],this.backtemp.id=this.shop.id,this.backtemp.ecblacklist=void 0,this.backtemp.ecblackday=void 0),3===t[0]&&(this.backtemp.ecblacklist=t[0],this.backtemp.ecblackday=t[1],this.backtemp.blacklist=void 0,this.backtemp.blackday=void 0,this.backtemp.id=this.shop.id)},toShop:function(t){this.BlockVisible=!0,this.shop=t},handelWhite:function(t){var e=this;if("ma"===t)var n={id:this.shop.id,blacklist:1,blackday:0,blackend:0};if("ec"===t)n={id:this.shop.id,ecblacklist:1,ecblackday:0,ecblackend:0};Object(r["v"])(n).then((function(t){e.$message.success("拉白成功"),e.getdata(),e.whiteVisible=!1}))},handleBack:function(){var t=this,e=this,n=this.day;1e5===n?n="永久":n+="天",this.$confirm("此操作将该门店 "+n+" 拉黑, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["m"])(t.backtemp).then((function(n){console.log(n),e.BlockVisible=!t.BlockVisible,t.$message.success("拉黑成功"),t.getdata()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},clickToWhite:function(t){this.shop=t,this.whiteVisible=!this.whiteVisible},clickToBlock:function(){this.BlockVisible=!1},handleFilter:function(){this.handelShop()},handleDownload:function(){},handleClick:function(t){this.handelShop()}}},d=u,p=(n("de2a"),n("2877")),h=Object(p["a"])(d,i,a,!1,null,"58569666",null);e["default"]=h.exports},3191:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return l})),n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p}));var i=n("b775");function a(t){return Object(i["a"])({url:"/admin/Home/GetHomeByData",method:"get",params:{day:t}})}function o(t){return Object(i["a"])({url:"/admin/Home/GetTop",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/admin/Home/getEnvByList",method:"get",params:t})}function r(t){return Object(i["a"])({url:"/admin/Home/GetOrderByservice",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/admin/Home/GetOrderByShop",method:"get",params:t})}function c(t){return Object(i["a"])({url:"/admin/Home/GetOrderByServer",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/admin/Home/GetShopByList",method:"get",params:t})}function d(t){return Object(i["a"])({url:"/admin/Home/GetDataByTopShop",method:"get",params:t})}function p(t){return Object(i["a"])({url:"/admin/Home/GetDatabyDownload",method:"get",params:t})}},"63af":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bar_dv",style:{width:"10provinces0%",height:"400px"}},[t._t("default")],2)},a=[],o=n("313e"),l=n.n(o),r={name:"NodeIndexDialog",props:{title:String,provinces:{type:Object,default:function(){return{title:[],count:[]}}},isShowDialog:{type:Boolean,default:!1}},mounted:function(){var t=this;console.log("mounted()"),setTimeout((function(){t.drawLine()}),1e3)},created:function(){},methods:{drawLine:function(){var t=this,e=this.$refs.bar_dv,n=l.a.init(e);n.setOption({title:{text:this.title},tooltip:{},xAxis:{axisLabel:{interval:1},data:t.provinces.title},barWidth:20,color:["#009CFF"],yAxis:{},series:[{name:"订单量",type:"bar",data:t.provinces.count}]})}}},s=r,c=n("2877"),u=Object(c["a"])(s,i,a,!1,null,"176f3658",null);e["default"]=u.exports},de2a:function(t,e,n){"use strict";var i=n("146e"),a=n.n(i);a.a},e692:function(t,e,n){"use strict";n.d(e,"C",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return l})),n.d(e,"o",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"t",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"s",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"i",(function(){return f})),n.d(e,"n",(function(){return b})),n.d(e,"j",(function(){return v})),n.d(e,"h",(function(){return _})),n.d(e,"m",(function(){return k})),n.d(e,"v",(function(){return g})),n.d(e,"r",(function(){return y})),n.d(e,"q",(function(){return w})),n.d(e,"p",(function(){return O})),n.d(e,"w",(function(){return j})),n.d(e,"x",(function(){return B})),n.d(e,"c",(function(){return C})),n.d(e,"f",(function(){return S})),n.d(e,"u",(function(){return x}));var i=n("b775");function a(t){return Object(i["a"])({url:"/admin/shop/GetAuditShopByList",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/admin/shop/GetInstallByList",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/admin/shop/GetDataByList",method:"get",params:t})}function r(t){return Object(i["a"])({url:"/admin/shop/PostDataByAudit",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/admin/shop/GetDataByAll",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/admin/shop/PostDataByUpdate",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/admin/shop/GetShopByRunning",method:"get",params:t})}function d(t){return Object(i["a"])({url:"/admin/shop/GetEnvByList",method:"get",params:t})}function p(t){return Object(i["a"])({url:"/admin/shop/PostDataByUpBind",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/admin/shop/GetIDByDetails",method:"get",params:{id:t}})}function m(t){return Object(i["a"])({url:"/admin/shop/GetProjectByList",method:"get",params:{id:t}})}function f(t){return Object(i["a"])({url:"/admin/shop/GetProjectByAdd",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/admin/shop/PostBussByUpdate",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/admin/shop/GetProjectByDel",method:"get",params:{id:t}})}function _(t){return Object(i["a"])({url:"/admin/shop/GetProjectBy",method:"get",params:{id:t}})}function k(t){return Object(i["a"])({url:"/admin/shop/PostBlackByUpdate",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/admin/shop/PostWhiteByUpdate",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/admin/shop/PostDataByRecommended",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/admin/shop/PostDataByCityAll",method:"post",data:t})}function O(t){return Object(i["a"])({url:"/admin/shop/PostDataByBuildAll",method:"post",data:t})}function j(t){return Object(i["a"])({url:"/admin/shop/PostbalanceByUpdate",method:"post",data:t})}function B(t){return Object(i["a"])({url:"/admin/shop/PostensureByUpdate",method:"post",data:t})}function C(t){return Object(i["a"])({url:"/admin/shop/GetDataBydownload",method:"post",data:t})}function S(t){return Object(i["a"])({url:"/admin/shop/delete",method:"get",params:{id:t}})}function x(t){return Object(i["a"])({url:"/admin/shop/PostRecomBySet",method:"post",data:t})}}}]);