(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4967f76"],{1:function(t,e){},"121a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return s}));var a=n("b775");function r(){return Object(a["a"])({url:"/tools/CarTools/CarBrand",method:"get"})}function o(){return Object(a["a"])({url:"/tools/CarTools/getBrand",method:"get"})}function u(t){return Object(a["a"])({url:"/tools/CarTools/getSeries",method:"get",params:{brand_id:t}})}function s(t){return Object(a["a"])({url:"/tools/CarTools/getModel",method:"get",params:{series_id:t}})}},2:function(t,e){},3:function(t,e){},3796:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:t.handleClick}}),t._v(" "),n("div",{staticClass:"drop",on:{drop:t.handleDrop,dragover:t.handleDragover,dragenter:t.handleDragover}},[n("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:t.loading,size:"mini",type:"primary"},on:{click:t.handleUpload}},[t._v("导入文件")])],1)])},r=[],o=(n("7f7f"),n("1146")),u=n.n(o),s={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(t){var e=t.header,n=t.results;this.excelData.header=e,this.excelData.results=n,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(t){if(t.stopPropagation(),t.preventDefault(),!this.loading){var e=t.dataTransfer.files;if(1===e.length){var n=e[0];if(!this.isExcel(n))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(n),t.stopPropagation(),t.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(t){var e=t.target.files,n=e[0];n&&this.upload(n)},upload:function(t){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var e=this.beforeUpload(t);e&&this.readerData(t)}else this.readerData(t)},readerData:function(t){var e=this;return this.loading=!0,new Promise((function(n,a){var r=new FileReader;r.onload=function(t){var a=t.target.result,r=u.a.read(a,{type:"array"}),o=r.SheetNames[0],s=r.Sheets[o],i=e.getHeaderRow(s),d=u.a.utils.sheet_to_json(s);e.generateData({header:i,results:d}),e.loading=!1,n()},r.readAsArrayBuffer(t)}))},getHeaderRow:function(t){var e,n=[],a=u.a.utils.decode_range(t["!ref"]),r=a.s.r;for(e=a.s.c;e<=a.e.c;++e){var o=t[u.a.utils.encode_cell({c:e,r:r})],s="UNKNOWN "+e;o&&o.t&&(s=u.a.utils.format_cell(o)),n.push(s)}return n},isExcel:function(t){return/\.(xlsx|xls|csv)$/.test(t.name)}}},i=s,d=(n("744d"),n("2877")),l=Object(d["a"])(i,a,r,!1,null,"f216541c",null);e["a"]=l.exports},"744d":function(t,e,n){"use strict";var a=n("8004"),r=n.n(a);r.a},8004:function(t,e,n){},a136:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("upload-excel-component",{attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload}}),t._v(" "),n("upload-excel-component",{attrs:{"on-success":t.handleBuild,"before-upload":t.beforeUpload}}),t._v(" "),n("el-cascader",{attrs:{props:t.props}})],1)},r=[],o=(n("7f7f"),n("3796")),u=n("e692"),s=n("121a"),i={name:"UploadExcel",components:{UploadExcelComponent:o["a"]},data:function(){return{tableData:[],tableHeader:[],props:{lazy:!0,lazyLoad:function(t,e){var n=t.level;if(0===n&&Object(s["b"])().then((function(t){for(var n=t.data,a=[],r=0;r<n.length;r++)a.push({label:n[r].name,value:n[r].brandid});e(a)})),1===n&&Object(s["d"])(t.data.value).then((function(t){for(var n=t.data,a=[],r=0;r<n.length;r++)a.push({label:n[r].factory_name+" "+n[r].series_name,value:n[r].series_id});e(a)})),2===n&&Object(s["c"])(t.data.value).then((function(t){for(var a=t.data,r=[],o=0;o<a.length;o++)r.push({label:a[o].label,value:a[o].value,leaf:n>=2});e(r)})),3===n){var a=[];e(a)}}}}},methods:{beforeUpload:function(t){var e=t.size/1024/1024<1;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results,n=t.header;this.tableData=e,Object(u["q"])(this.tableData).then((function(t){console.log("加载完成")})),this.tableHeader=n},handleBuild:function(t){var e=t.results;t.header;this.tableData=e,Object(u["p"])(this.tableData).then((function(t){console.log("加载完成")}))}}},d=i,l=n("2877"),c=Object(l["a"])(d,a,r,!1,null,null,null);e["default"]=c.exports},e692:function(t,e,n){"use strict";n.d(e,"B",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"o",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"t",(function(){return d})),n.d(e,"l",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"s",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"k",(function(){return h})),n.d(e,"i",(function(){return m})),n.d(e,"n",(function(){return b})),n.d(e,"j",(function(){return g})),n.d(e,"h",(function(){return v})),n.d(e,"m",(function(){return j})),n.d(e,"u",(function(){return y})),n.d(e,"r",(function(){return O})),n.d(e,"q",(function(){return D})),n.d(e,"p",(function(){return B})),n.d(e,"v",(function(){return x})),n.d(e,"w",(function(){return P})),n.d(e,"c",(function(){return U})),n.d(e,"f",(function(){return _}));var a=n("b775");function r(t){return Object(a["a"])({url:"/admin/shop/GetAuditShopByList",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/admin/shop/GetInstallByList",method:"get",params:t})}function u(t){return Object(a["a"])({url:"/admin/shop/GetDataByList",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/admin/shop/PostDataByAudit",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/admin/shop/GetDataByAll",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/admin/shop/PostDataByUpdate",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/admin/shop/GetShopByRunning",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/admin/shop/GetEnvByList",method:"get",params:t})}function f(t){return Object(a["a"])({url:"/admin/shop/PostDataByUpBind",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/admin/shop/GetIDByDetails",method:"get",params:{id:t}})}function h(t){return Object(a["a"])({url:"/admin/shop/GetProjectByList",method:"get",params:{id:t}})}function m(t){return Object(a["a"])({url:"/admin/shop/GetProjectByAdd",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/admin/shop/PostBussByUpdate",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/admin/shop/GetProjectByDel",method:"get",params:{id:t}})}function v(t){return Object(a["a"])({url:"/admin/shop/GetProjectBy",method:"get",params:{id:t}})}function j(t){return Object(a["a"])({url:"/admin/shop/PostBlackByUpdate",method:"post",data:t})}function y(t){return Object(a["a"])({url:"/admin/shop/PostWhiteByUpdate",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/admin/shop/PostDataByRecommended",method:"post",data:t})}function D(t){return Object(a["a"])({url:"/admin/shop/PostDataByCityAll",method:"post",data:t})}function B(t){return Object(a["a"])({url:"/admin/shop/PostDataByBuildAll",method:"post",data:t})}function x(t){return Object(a["a"])({url:"/admin/shop/PostbalanceByUpdate",method:"post",data:t})}function P(t){return Object(a["a"])({url:"/admin/shop/PostensureByUpdate",method:"post",data:t})}function U(t){return Object(a["a"])({url:"/admin/shop/GetDataBydownload",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/admin/shop/delete",method:"get",params:{id:t}})}}}]);