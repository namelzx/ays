(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-572c1c44","chunk-5667eb47","chunk-01461a80","chunk-2d0cf898"],{"041e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,stripe:""}},[i("el-table-column",{attrs:{prop:"order_id",label:"订单号",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"nickname",label:"车主",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"link-type"},[t._v(t._s(e.row.contact)+" "+t._s(e.row.tel))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"link-type"},[t._v(t._s(t._f("parseTime")(e.row.create_time)))])]}}])})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)},a=[],l=i("3191"),o=(i("ed08"),{name:"index",data:function(){return{dialogVisible:!1,list:[],title:""}},methods:{handleClose:function(){this.dialogVisible=!1},handleView:function(t,e,i){var n=this;this.dialogVisible=!0,"shop"===e&&(this.title="查看"+t.shopname),"order"===e&&(this.title="查看"+t.userName),"product"===e&&(this.title="查看"+t.product_title),console.log(t);var a={id:t.id,type:e,star:i};Object(l["m"])(a).then((function(t){n.list=t.data}))}}}),r=o,s=i("2877"),c=Object(s["a"])(r,n,a,!1,null,"f028cb66",null);e["default"]=c.exports},1352:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},t._l(t.filelist,(function(e,n){return i("el-table-column",{attrs:{label:e.label,align:"center","min-width":e.width},scopedSlots:t._u([{key:"default",fn:function(n){return[i("span",[t._v(t._s(n.row[e.field]))])]}}],null,!0)})})),1),t._v(" "),i("div",{staticClass:"pagination-container page"},[i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,30,50],"page-size":t.listQuery.limit,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleChange}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])],1)],1)},a=[],l=i("3191"),o=(i("ed08"),{name:"index",data:function(){return{total:0,filelist:[],dialogVisible:!1,list:[],listQuery:{page:1,limit:20},title:"",salList:[{label:"业务员",field:"realName",width:150},{label:"订单数量",field:"order_count",width:100}],prList:[{label:"产品名",field:"title",width:150},{label:"订单数量",field:"order_count",width:100}],cityrList:[{label:"城市",field:"cityname",width:150},{label:"订单数量",field:"order_count",width:100}],provincesList:[{label:"省份",field:"cityname",width:150},{label:"订单数量",field:"provincesorder_count",width:100}]}},methods:{handleSizeChange:function(t){this.listQuery.limit=t,this.fetchList()},handleChange:function(t){this.listQuery.page=t,this.fetchList()},handleClose:function(){this.dialogVisible=!1},handleView:function(t,e){this.dialogVisible=!0,this.title=e,this.total=0,this.filelist=[],this.list=[],console.log(this.title),this.fetchList()},fetchList:function(){"TOP业务员"==this.title&&(this.filelist=this.salList,this.getsallist()),"TOP省份"==this.title&&(this.filelist=this.provincesList,this.getproveinlist()),"TOP产品"==this.title&&(this.filelist=this.prList,this.getprllist()),"TOP城市"==this.title&&(this.filelist=this.cityrList,this.getcityllist())},getsallist:function(){var t=this;Object(l["j"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,console.log(t.list)}))},getprllist:function(){var t=this;Object(l["i"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total}))},getcityllist:function(){var t=this;Object(l["a"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total}))},getproveinlist:function(){var t=this;Object(l["h"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total}))}}}),r=o,s=i("2877"),c=Object(s["a"])(r,n,a,!1,null,"5d495b9d",null);e["default"]=c.exports},"146e":function(t,e,i){},"297e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container top"},[i("div",{staticClass:"filter-container "},[i("el-form",{attrs:{inline:!0,model:t.listQuery}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.listQ.time,callback:function(e){t.$set(t.listQ,"time",e)},expression:"listQ.time"}}),t._v(" "),i("el-tooltip",{attrs:{content:"搜索",placement:"top"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleFilter()}}},[t._v("搜索\n                ")])],1)],1)],1),t._v(" "),i("div",{staticClass:"statistical bc"},[i("div",{staticClass:"item-st"},[i("div",{staticClass:"title"},[t._v("总订单")]),t._v(" "),i("div",{staticClass:"sj"},[t._v(t._s(t.ordersum))])]),t._v(" "),i("div",{staticClass:"item-st",staticStyle:{background:"#8cc8ff"}},[i("div",{staticClass:"title"},[t._v("时间段内")]),t._v(" "),i("div",{staticClass:"sj"},[t._v(t._s(t.timesum))])])]),t._v(" "),i("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"30px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("TOP门店")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handelShow}},[t._v("更多")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.shop,stripe:"",size:"mini"}},[i("el-table-column",{attrs:{prop:"top",label:"排名",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"shopname",label:"门店",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{label:"类别"},scopedSlots:t._u([{key:"default",fn:function(e){return["普通"==e.row.shop_type?i("span",[t._v("普通")]):i("span",{staticClass:"link-type"},[t._v(t._s(e.row.shop_type))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.blacklist?i("div",{staticClass:"color: red",staticStyle:{color:"red"}},[t._v("\n                        市场拉黑("+t._s(e.row.blackday<356?e.row.blackday+"天后到期":"永久")+")\n                    ")]):t._e(),t._v(" "),3==e.row.ecblacklist?i("div",{staticStyle:{color:"red"}},[t._v("\n                        电商拉黑\n                        ("+t._s(e.row.ecblackday<356?e.row.ecblackday+"天后到期":"永久")+")\n                    ")]):t._e(),t._v(" "),1==e.row.ec_rec||1==e.row.mk_rec?i("div",{staticClass:"link-type"},[t._v("\n                        推荐\n                    ")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"宝典"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"link-type"},[t._v(t._s(t._f("book")(e.row.book)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"count",label:"单量"}}),t._v(" "),i("el-table-column",{attrs:{prop:"stock",label:"进货量"}}),t._v(" "),i("el-table-column",{attrs:{label:"管理",fixed:"right",align:"center","min-width":"300px","class-name":"small-padding"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{placement:"right",width:"100",trigger:"click"}},[i("div",[i("div",[i("el-link",{attrs:{type:1===e.row.ec_rec?"primary":""}},[t._v("电商推荐")]),t._v(" "),i("el-link",{attrs:{type:"warning"},on:{click:function(i){return t.handelSet(e.row,"ec_rec")}}},[t._v("\n                                    "+t._s(1===e.row.ec_rec?"取消推荐":"推荐")+"\n                                ")])],1),t._v(" "),i("div",[i("el-link",{attrs:{type:1===e.row.mk_rec?"primary":""}},[t._v("市场推荐")]),t._v(" "),i("el-link",{attrs:{type:"warning"},on:{click:function(i){return t.handelSet(e.row,"mk_rec")}}},[t._v("\n                                    "+t._s(1===e.row.mk_rec?"取消推荐":"推荐")+"\n                                ")])],1)]),t._v(" "),i("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("推荐")])],1),t._v(" "),i("el-tooltip",{attrs:{content:"拉黑",placement:"top"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.toShop(e.row)}}},[t._v("拉黑\n                        ")])],1),t._v(" "),i("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.clickToWhite(e.row)}}},[t._v("拉白\n                        ")])],1)]}}])})],1),t._v(" "),i("el-pagination",{attrs:{"current-page":t.listQ.page,"page-sizes":[10,20,30,50],"page-size":t.listQ.limit,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},a=[],l=i("3191"),o=i("63af"),r=i("e692"),s=i("041e"),c=i("1352"),u={name:"Index",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]},topshow:!1,listQuery:{time:[]},total:0,listQ:{time:[],page:1,limit:10},ordersum:0,timesum:0,provinces:{},product:{},salesman:{},activeName:"-1",shop:[],statistical:{order:0,Demand:0},city:{},order:[],backvalue:void 0,whiteVisible:!1,BlockVisible:!1,backtemp:{},options:[{value:2,label:"市场",children:[{value:1e5,label:"永久"},{value:7,label:"七天"},{value:30,label:"一个月"},{value:90,label:"三个月"},{value:365,label:"1年"}]},{value:3,label:"电商",children:[{value:1e5,label:"永久"},{value:7,label:"七天"},{value:30,label:"一个月"},{value:90,label:"三个月"},{value:365,label:"1年"}]}]}},components:{Test:o["default"],TableView:s["default"],TableTopView:c["default"]},provinces:[],filters:{book:function(t){return 1===t?"宝典":""}},created:function(){this.handelShop()},methods:{handelShow:function(){this.$router.push("/situation/evenshop")},handelShop:function(){var t=this;Object(l["c"])(this.listQ).then((function(e){t.total=e.data.total,t.shop=e.data.shop}))},handleTop:function(t,e){this.$refs.tableTopview.handleView(t,e)},handleSizeChange:function(t){this.listQ.limit=t,this.handelShop()},handleCurrentChange:function(t){this.listQ.page=t,this.handelShop()},handelSet:function(t,e){var i=this;console.log(t);var n={id:t.id,val:0};"mk_rec"===e&&(n.field="mk_rec",console.log(t.mk_rec,3),2===t.mk_rec?n.val=1:n.val=2),"ec_rec"===e&&(n.field="ec_rec",console.log(t.mk_rec,2),2===t.ec_rec?n.val=1:n.val=2),Object(r["u"])(n).then((function(t){i.getdata()}))},handleChange:function(t){this.day=t[1],console.log(t[0]),2===t[0]&&(this.backtemp.blacklist=t[0],this.backtemp.blackday=t[1],this.backtemp.id=this.shop.id,this.backtemp.ecblacklist=void 0,this.backtemp.ecblackday=void 0),3===t[0]&&(this.backtemp.ecblacklist=t[0],this.backtemp.ecblackday=t[1],this.backtemp.blacklist=void 0,this.backtemp.blackday=void 0,this.backtemp.id=this.shop.id)},toShop:function(t){this.BlockVisible=!0,this.shop=t},handelWhite:function(t){var e=this;if("ma"===t)var i={id:this.shop.id,blacklist:1,blackday:0,blackend:0};if("ec"===t)i={id:this.shop.id,ecblacklist:1,ecblackday:0,ecblackend:0};Object(r["v"])(i).then((function(t){e.$message.success("拉白成功"),e.getdata(),e.whiteVisible=!1}))},handleBack:function(){var t=this,e=this,i=this.day;1e5===i?i="永久":i+="天",this.$confirm("此操作将该门店 "+i+" 拉黑, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["m"])(t.backtemp).then((function(i){console.log(i),e.BlockVisible=!t.BlockVisible,t.$message.success("拉黑成功"),t.getdata()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},clickToWhite:function(t){this.shop=t,this.whiteVisible=!this.whiteVisible},clickToBlock:function(){this.BlockVisible=!1},handleFilter:function(){this.handelShop()},handleDownload:function(){},handleClick:function(t){this.handelShop()}}},d=u,h=(i("de2a"),i("2877")),p=Object(h["a"])(d,n,a,!1,null,"58569666",null);e["default"]=p.exports},3191:function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"j",(function(){return l})),i.d(e,"i",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"h",(function(){return s})),i.d(e,"l",(function(){return c})),i.d(e,"m",(function(){return u})),i.d(e,"g",(function(){return d})),i.d(e,"f",(function(){return h})),i.d(e,"e",(function(){return p})),i.d(e,"k",(function(){return m})),i.d(e,"c",(function(){return f})),i.d(e,"b",(function(){return b}));var n=i("b775");function a(t){return Object(n["a"])({url:"/admin/Home/GetHomeByData",method:"get",params:{day:t}})}function l(t){return Object(n["a"])({url:"/admin/Salesman/GetOrderSortByData",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/admin/Product/GetOrderSortByData",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/admin/city/GetOrderSortByData",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/admin/city/GetOrderprovincesByData",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/admin/Home/GetTop",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/admin/Home/getEnvByList",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/admin/Home/GetOrderByservice",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/admin/Home/GetOrderByShop",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/admin/Home/GetOrderByServer",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/admin/Home/GetShopByList",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/admin/Home/GetDataByTopShop",method:"get",params:t})}function b(t){return Object(n["a"])({url:"/admin/Home/GetDatabyDownload",method:"get",params:t})}},"63af":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"bar_dv",style:{width:"10provinces0%",height:"400px"}},[t._t("default")],2)},a=[],l=i("313e"),o=i.n(l),r={name:"NodeIndexDialog",props:{title:String,provinces:{type:Object,default:function(){return{title:[],count:[]}}},isShowDialog:{type:Boolean,default:!1}},mounted:function(){var t=this;console.log("mounted()"),setTimeout((function(){t.drawLine()}),1e3)},created:function(){},methods:{drawLine:function(){var t=this,e=this.$refs.bar_dv,i=o.a.init(e);i.setOption({title:{text:this.title},tooltip:{},xAxis:{axisLabel:{interval:1},data:t.provinces.title},barWidth:20,color:["#009CFF"],yAxis:{},series:[{name:"订单量",type:"bar",data:t.provinces.count}]})}}},s=r,c=i("2877"),u=Object(c["a"])(s,n,a,!1,null,"176f3658",null);e["default"]=u.exports},de2a:function(t,e,i){"use strict";var n=i("146e"),a=i.n(n);a.a},e692:function(t,e,i){"use strict";i.d(e,"C",(function(){return a})),i.d(e,"g",(function(){return l})),i.d(e,"a",(function(){return o})),i.d(e,"o",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"t",(function(){return c})),i.d(e,"l",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"s",(function(){return h})),i.d(e,"e",(function(){return p})),i.d(e,"k",(function(){return m})),i.d(e,"i",(function(){return f})),i.d(e,"n",(function(){return b})),i.d(e,"j",(function(){return v})),i.d(e,"h",(function(){return g})),i.d(e,"m",(function(){return _})),i.d(e,"v",(function(){return y})),i.d(e,"r",(function(){return k})),i.d(e,"q",(function(){return w})),i.d(e,"p",(function(){return O})),i.d(e,"w",(function(){return j})),i.d(e,"x",(function(){return B})),i.d(e,"c",(function(){return S})),i.d(e,"f",(function(){return C})),i.d(e,"u",(function(){return D}));var n=i("b775");function a(t){return Object(n["a"])({url:"/admin/shop/GetAuditShopByList",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/admin/shop/GetInstallByList",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/admin/shop/GetDataByList",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/admin/shop/PostDataByAudit",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/admin/shop/GetDataByAll",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/admin/shop/PostDataByUpdate",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/admin/shop/GetShopByRunning",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/admin/shop/GetEnvByList",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/admin/shop/PostDataByUpBind",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/admin/shop/GetIDByDetails",method:"get",params:{id:t}})}function m(t){return Object(n["a"])({url:"/admin/shop/GetProjectByList",method:"get",params:{id:t}})}function f(t){return Object(n["a"])({url:"/admin/shop/GetProjectByAdd",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/admin/shop/PostBussByUpdate",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/admin/shop/GetProjectByDel",method:"get",params:{id:t}})}function g(t){return Object(n["a"])({url:"/admin/shop/GetProjectBy",method:"get",params:{id:t}})}function _(t){return Object(n["a"])({url:"/admin/shop/PostBlackByUpdate",method:"post",data:t})}function y(t){return Object(n["a"])({url:"/admin/shop/PostWhiteByUpdate",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/admin/shop/PostDataByRecommended",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/admin/shop/PostDataByCityAll",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/admin/shop/PostDataByBuildAll",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/admin/shop/PostbalanceByUpdate",method:"post",data:t})}function B(t){return Object(n["a"])({url:"/admin/shop/PostensureByUpdate",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/admin/shop/GetDataBydownload",method:"post",data:t})}function C(t){return Object(n["a"])({url:"/admin/shop/delete",method:"get",params:{id:t}})}function D(t){return Object(n["a"])({url:"/admin/shop/PostRecomBySet",method:"post",data:t})}}}]);